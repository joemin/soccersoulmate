define(['frameworks/bundle'],function () {;function roundToWithThousands(n,t,i){var r=1*unFormat(n,t),u,f;return typeof r=="number"&&i!="none"&&(i<=0?(u=-i,r=+(Math.round(r+"e+"+u)+"e-"+u)):(u=i,f="1e+"+u,value=+Math.round(r/f)*f)),fmtChartJS(n,r,"none")}function unFormat(n,t){if((n.decimalSeparator!="."||n.thousandSeparator!="")&&typeof t=="string"){var i=""+t;if(n.thousandSeparator!="")while(i.indexOf(n.thousandSeparator)>=0)i=""+i.replace(n.thousandSeparator,"");return n.decimalSeparator!="."&&(i=""+i.replace(n.decimalSeparator,".")),1*i}return t}function fmtChartJSPerso(n,t,i){switch(i){case"SampleJS_Format":return_value=typeof t=="number"?"My Format : "+t.toString()+" $":t+"XX";break;case"Change_Month":return_value=typeof t=="string"?t.toString()+" 2014":t.toString()+"YY";break;default:return_value=t}return return_value}function fmtChartJS(n,t,i){var r,e,o;if(i=="notformatted")r=t;else if(i=="none"&&typeof t=="number")if(n.roundNumber!="none"&&(n.roundNumber<=0?(e=-n.roundNumber,t=+(Math.round(t+"e+"+e)+"e-"+e)):(e=n.roundNumber,o="1e+"+e,t=+Math.round(t/o)*o)),n.decimalSeparator!="."||n.thousandSeparator!=""){if(r=t.toString().replace(/\./g,n.decimalSeparator),n.thousandSeparator!=""){var u=r,f="",s=u.indexOf(n.decimalSeparator);s>=0&&(f=u.substring(s+1,u.length),f=f.split("").reverse().join(""),u=u.substring(0,s));u=u.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n.thousandSeparator);f=f.split("").reverse().join("");r=u;f!=""&&(r=r+n.decimalSeparator+f)}}else r=t;else r=i!="none"&&i!="notformatted"?fmtChartJSPerso(n,t,i):t;return r}function tmplbis(n,t){var i=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):cachebis[n]=cachebis[n]||tmplbis(document.getElementById(n).innerHTML);return t?i(t):i}function createCursorDiv(){if(cursorDivCreated==!1){var n=document.createElement("divCursor");n.id="divCursor";n.style.position="absolute";document.body.appendChild(n);cursorDivCreated=!0}}function checkBrowser(){return this.ver=navigator.appVersion,this.dom=document.getElementById?1:0,this.ie5=this.ver.indexOf("MSIE 5")>-1&&this.dom?1:0,this.ie4=document.all&&!this.dom?1:0,this.ns5=this.dom&&parseInt(this.ver)>=5?1:0,this.ns4=document.layers&&!this.dom?1:0,this.bw=this.ie5||this.ie4||this.ns4||this.ns5,this}function cursorInit(){scrolled=bw.ns4||bw.ns5?"window.pageYOffset":"document.body.scrollTop";bw.ns4&&document.captureEvents(Event.MOUSEMOVE)}function makeCursorObj(obj,nest){return createCursorDiv(),nest=nest?"document."+nest+".":"",this.css=bw.dom?document.getElementById(obj).style:bw.ie4?document.all[obj].style:bw.ns4?eval(nest+"document.layers."+obj):0,this.moveIt=b_moveIt,cursorInit(),this}function b_moveIt(n,t){this.x=n;this.y=t;this.css.left=this.x+"px";this.css.top=this.y+"px"}function isIE(){var n=navigator.userAgent.toLowerCase();return n.indexOf("msie")!=-1?parseInt(n.split("msie")[1]):!1}function mergeChartConfig(n,t){var r={};for(var i in n)r[i]=n[i];for(i in t)r[i]=t[i];return r}function sleep(n){var t=new Date;for(t.setTime(t.getTime()+n);(new Date).getTime()<t.getTime(););}function saveCanvas(n,t,i,r){var e,u,f;cvSave=n.getImageData(0,0,n.canvas.width,n.canvas.height);e={savePng:!1,annotateDisplay:!1,animation:!1,dynamicDisplay:!1};u=mergeChartConfig(i,e);u.clearRect=!1;switch(r){case"Bar":new Chart(n.canvas.getContext("2d")).Bar(t,u);break;case"Pie":new Chart(n.canvas.getContext("2d")).Pie(t,u);break;case"Doughnut":new Chart(n.canvas.getContext("2d")).Doughnut(t,u);break;case"Radar":new Chart(n.canvas.getContext("2d")).Radar(t,u);break;case"PolarArea":new Chart(n.canvas.getContext("2d")).PolarArea(t,u);break;case"HorizontalBar":new Chart(n.canvas.getContext("2d")).HorizontalBar(t,u);break;case"StackedBar":new Chart(n.canvas.getContext("2d")).StackedBar(t,u);break;case"HorizontalStackedBar":new Chart(n.canvas.getContext("2d")).HorizontalStackedBar(t,u);break;case"Line":new Chart(n.canvas.getContext("2d")).Line(t,u)}i.savePngOuput=="NewWindow"&&(f=n.canvas.toDataURL(),n.putImageData(cvSave,0,0),window.open(f,"_blank"));i.savePngOuput=="CurrentWindow"&&(f=n.canvas.toDataURL(),n.putImageData(cvSave,0,0),window.location.href=f);i.savePngOuput=="Save"&&(document.location.href=n.canvas.toDataURL("image/png").replace("image/png","image/octet-stream"),n.putImageData(cvSave,0,0))}function dynamicFunction(n,t,i,r){if(t.dynamicDisplay){if(i.canvas.id==""){var u=new Date,f=u.getTime();i.canvas.id="Canvas_"+f}if(typeof dynamicDisplay[i.canvas.id]=="undefined"&&(dynamicDisplayList[dynamicDisplayList.length]=i.canvas.id,dynamicDisplay[i.canvas.id]=[i.canvas,!1,!1,n,t,i.canvas,r],dynamicDisplay[i.canvas.id][1]=isScrolledIntoView(i.canvas),window.onscroll=scrollFunction),dynamicDisplay[i.canvas.id][1]==!1||dynamicDisplay[i.canvas.id][2]==!0)return!1;dynamicDisplay[i.canvas.id][2]=!0}return!0}function isScrolledIntoView(n){var t=0,i=0;for(elem=n;elem;)t+=elem.offsetLeft-elem.scrollLeft+elem.clientLeft,i+=elem.offsetTop-elem.scrollTop+elem.clientTop,elem=elem.offsetParent;return t+n.width/2>=window.pageXOffset&&t+n.width/2<=window.pageXOffset+window.innerWidth&&i+n.height/2>=window.pageYOffset&&i+n.height/2<=window.pageYOffset+window.innerHeight?!0:!1}function scrollFunction(){for(var n=0;n<dynamicDisplayList.length;n++)if(isScrolledIntoView(dynamicDisplay[dynamicDisplayList[n]][5])&&dynamicDisplay[dynamicDisplayList[n]][2]==!1){dynamicDisplay[dynamicDisplayList[n]][1]=!0;switch(dynamicDisplay[dynamicDisplayList[n]][6]){case"Bar":new Chart(document.getElementById(dynamicDisplayList[n]).getContext("2d")).Bar(dynamicDisplay[dynamicDisplayList[n]][3],dynamicDisplay[dynamicDisplayList[n]][4]);break;case"Pie":new Chart(document.getElementById(dynamicDisplayList[n]).getContext("2d")).Pie(dynamicDisplay[dynamicDisplayList[n]][3],dynamicDisplay[dynamicDisplayList[n]][4]);break;case"Doughnut":new Chart(document.getElementById(dynamicDisplayList[n]).getContext("2d")).Doughnut(dynamicDisplay[dynamicDisplayList[n]][3],dynamicDisplay[dynamicDisplayList[n]][4]);break;case"Radar":new Chart(document.getElementById(dynamicDisplayList[n]).getContext("2d")).Radar(dynamicDisplay[dynamicDisplayList[n]][3],dynamicDisplay[dynamicDisplayList[n]][4]);break;case"PolarArea":new Chart(document.getElementById(dynamicDisplayList[n]).getContext("2d")).PolarArea(dynamicDisplay[dynamicDisplayList[n]][3],dynamicDisplay[dynamicDisplayList[n]][4]);break;case"HorizontalBar":new Chart(document.getElementById(dynamicDisplayList[n]).getContext("2d")).HorizontalBar(dynamicDisplay[dynamicDisplayList[n]][3],dynamicDisplay[dynamicDisplayList[n]][4]);break;case"StackedBar":new Chart(document.getElementById(dynamicDisplayList[n]).getContext("2d")).StackedBar(dynamicDisplay[dynamicDisplayList[n]][3],dynamicDisplay[dynamicDisplayList[n]][4]);break;case"HorizontalStackedBar":new Chart(document.getElementById(dynamicDisplayList[n]).getContext("2d")).HorizontalStackedBar(dynamicDisplay[dynamicDisplayList[n]][3],dynamicDisplay[dynamicDisplayList[n]][4]);break;case"Line":new Chart(document.getElementById(dynamicDisplayList[n]).getContext("2d")).Line(dynamicDisplay[dynamicDisplayList[n]][3],dynamicDisplay[dynamicDisplayList[n]][4])}}}function getMousePos(n,t){var i=n.getBoundingClientRect();return{x:t.clientX-i.left,y:t.clientY-i.top}}function doMouseMove(ctx,config,event){var annotateDIV=document.getElementById("divCursor");for(show=!1,annotateDIV.className=config.annotateClassName?config.annotateClassName:"",annotateDIV.style.border=config.annotateClassName?"":config.annotateBorder,annotateDIV.style.padding=config.annotateClassName?"":config.annotatePadding,annotateDIV.style.borderRadius=config.annotateClassName?"":config.annotateBorderRadius,annotateDIV.style.backgroundColor=config.annotateClassName?"":config.annotateBackgroundColor,annotateDIV.style.color=config.annotateClassName?"":config.annotateFontColor,annotateDIV.style.fontFamily=config.annotateClassName?"":config.annotateFontFamily,annotateDIV.style.fontSize=config.annotateClassName?"":config.annotateFontSize+"pt",annotateDIV.style.fontStyle=config.annotateClassName?"":config.annotateFontStyle,canvas_pos=getMousePos(ctx.canvas,event),i=0;i<jsGraphAnnotate[ctx.ChartNewId].length;i++){if(jsGraphAnnotate[ctx.ChartNewId][i][0]=="ARC"){if(distance=Math.sqrt((canvas_pos.x-jsGraphAnnotate[ctx.ChartNewId][i][1])*(canvas_pos.x-jsGraphAnnotate[ctx.ChartNewId][i][1])+(canvas_pos.y-jsGraphAnnotate[ctx.ChartNewId][i][2])*(canvas_pos.y-jsGraphAnnotate[ctx.ChartNewId][i][2])),distance>jsGraphAnnotate[ctx.ChartNewId][i][3]&&distance<jsGraphAnnotate[ctx.ChartNewId][i][4]){for(angle=Math.acos((canvas_pos.x-jsGraphAnnotate[ctx.ChartNewId][i][1])/distance),canvas_pos.y<jsGraphAnnotate[ctx.ChartNewId][i][2]&&(angle=-angle);angle<0;)angle+=2*Math.PI;while(angle>2*Math.PI)angle-=2*Math.PI;angle<config.startAngle*(Math.PI/360)&&(angle+=2*Math.PI);(angle>jsGraphAnnotate[ctx.ChartNewId][i][5]&&angle<jsGraphAnnotate[ctx.ChartNewId][i][6]||angle>jsGraphAnnotate[ctx.ChartNewId][i][5]-2*Math.PI&&angle<jsGraphAnnotate[ctx.ChartNewId][i][6]-2*Math.PI||angle>jsGraphAnnotate[ctx.ChartNewId][i][5]+2*Math.PI&&angle<jsGraphAnnotate[ctx.ChartNewId][i][6]+2*Math.PI)&&(v1=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][7],config.fmtV1),v2=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][8],config.fmtV2),v3=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][9],config.fmtV3),v4=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][10],config.fmtV4),v5=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][11],config.fmtV5),v6=fmtChartJS(config,100*jsGraphAnnotate[ctx.ChartNewId][i][8]/jsGraphAnnotate[ctx.ChartNewId][i][10],config.fmtV6),v6=roundToWithThousands(config,v6,config.roundPct),v7=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][1],config.fmtV7),v8=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][2],config.fmtV8),v9=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][3],config.fmtV9),v10=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][4],config.fmtV10),v11=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][5],config.fmtV11),v12=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][6],config.fmtV12),v13=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][12],config.fmtV13),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,v13:v13,graphPosX:graphPosX,graphPosY:graphPosY}),annotateDIV.innerHTML=dispString,show=!0,x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y=y+eval(scrolled)),oCursor.moveIt(x+fromLeft,y+fromTop))}}else jsGraphAnnotate[ctx.ChartNewId][i][0]=="RECT"?canvas_pos.x>jsGraphAnnotate[ctx.ChartNewId][i][1]&&canvas_pos.x<jsGraphAnnotate[ctx.ChartNewId][i][3]&&canvas_pos.y<jsGraphAnnotate[ctx.ChartNewId][i][2]&&canvas_pos.y>jsGraphAnnotate[ctx.ChartNewId][i][4]&&(v1=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][5],config.fmtV1),v2=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][6],config.fmtV2),v3=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][7],config.fmtV3),v4=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][8],config.fmtV4),v5=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][9],config.fmtV5),v6=fmtChartJS(config,100*jsGraphAnnotate[ctx.ChartNewId][i][7]/jsGraphAnnotate[ctx.ChartNewId][i][9],config.fmtV6),v6=roundToWithThousands(config,v6,config.roundPct),v7=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][1],config.fmtV7),v8=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][2],config.fmtV8),v9=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][3],config.fmtV9),v10=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][4],config.fmtV10),v11=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][10],config.fmtV11),v12=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][11],config.fmtV12),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY}),annotateDIV.innerHTML=dispString,show=!0,x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y=y+eval(scrolled)),oCursor.moveIt(x+fromLeft,y+fromTop)):jsGraphAnnotate[ctx.ChartNewId][i][0]=="POINT"&&(distance=Math.sqrt((canvas_pos.x-jsGraphAnnotate[ctx.ChartNewId][i][1])*(canvas_pos.x-jsGraphAnnotate[ctx.ChartNewId][i][1])+(canvas_pos.y-jsGraphAnnotate[ctx.ChartNewId][i][2])*(canvas_pos.y-jsGraphAnnotate[ctx.ChartNewId][i][2])),distance<10&&(v1=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][3],config.fmtV1),v2=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][4],config.fmtV2),v3=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][5],config.fmtV3),v4=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][6],config.fmtV4),v5=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][7],config.fmtV5),v6=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][8],config.fmtV6),v7=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][9],config.fmtV7),v8=fmtChartJS(config,100*jsGraphAnnotate[ctx.ChartNewId][i][5]/jsGraphAnnotate[ctx.ChartNewId][i][9],config.fmtV8),v8=roundToWithThousands(config,v8,config.roundPct),v9=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][1],config.fmtV9),v10=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][2],config.fmtV10),v11=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][10],config.fmtV11),v12=fmtChartJS(config,jsGraphAnnotate[ctx.ChartNewId][i][11],config.fmtV12),graphPosX=canvas_pos.x,graphPosY=canvas_pos.y,dispString=tmplbis(config.annotateLabel,{config:config,v1:v1,v2:v2,v3:v3,v4:v4,v5:v5,v6:v6,v7:v7,v8:v8,v9:v9,v10:v10,v11:v11,v12:v12,graphPosX:graphPosX,graphPosY:graphPosY}),annotateDIV.innerHTML=dispString,show=!0,x=bw.ns4||bw.ns5?event.pageX:event.x,y=bw.ns4||bw.ns5?event.pageY:event.y,(bw.ie4||bw.ie5)&&(y=y+eval(scrolled)),oCursor.moveIt(x+fromLeft,y+fromTop)));annotateDIV.style.display=show?"":"none"}}var charJSPersonnalDefaultOptions={},charJSPersonnalDefaultOptionsLine={},charJSPersonnalDefaultOptionsRadar={},charJSPersonnalDefaultOptionsPolarArea={},charJSPersonnalDefaultOptionsPie={},charJSPersonnalDefaultOptionsDoughnut={},charJSPersonnalDefaultOptionsBar={},charJSPersonnalDefaultOptionsStackedBar={},charJSPersonnalDefaultOptionsHorizontalBar={},charJSPersonnalDefaultOptionsHorizontalStackedBar={},cachebis={},dynamicDisplay,dynamicDisplayList,jsGraphAnnotate;cursorDivCreated=!1;bw=new checkBrowser;fromLeft=10;fromTop=10;typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});dynamicDisplay=[];dynamicDisplayList=[];jsGraphAnnotate=[];window.Chart=function(n){function i(n,t,i,r){if(n.logarithmic)return p(vt(t)*r-s(i.graphMin)*r,undefined,0);var u=i.steps*i.stepValue,f=t-i.graphMin,e=p(f/u,1,0);return r*i.steps*e}function c(n,t,i,r,u,f,e,o,s,h,c,l,a){function nt(){var w=n.animation?p(g(y),null,0):1;1*v>=1*p(n.animationSteps,Number.MAX_VALUE,1)||n.animation==!1?w=1:w>=1&&(w=.9999);isIE()<9&&isIE()!=!1||!n.clearRect||r.clearRect(u,f,e,o);it(r,n,s,h,c,l,!1,a,w,v);n.scaleOverlay?(i(w),t()):(t(),i(w));it(r,n,s,h,c,l,!0,a,w,v)}function w(){if(v++,y+=k,(v==n.animationSteps||n.animation==!1)&&(y=1),nt(),y<1)d(w);else if(typeof n.onAnimationComplete=="function")n.onAnimationComplete(r,n,a)}var v=0;isIE()<9&&isIE()!=!1&&(n.animation=!1);var k=n.animation?1/p(n.animationSteps,Number.MAX_VALUE,1):1,g=b[n.animationEasing],y=n.animation?0:1;typeof t!="function"&&(t=function(){});n.clearRect?d(w):w()}function v(n,t,i,r,u,f){var c,l,a,o,e,p,h,v;if(n.logarithmic?(c=Math.pow(10,s(u)),l=Math.pow(10,s(r)+1),h=s(l)-s(c)):(p=r-u,h=s(p),c=Math.floor(u/(1*Math.pow(10,h)))*Math.pow(10,h),l=Math.ceil(r/(1*Math.pow(10,h)))*Math.pow(10,h)),a=l-c,o=Math.pow(10,h),e=Math.round(a/o),n.logarithmic)e=h;else while(e<i||e>t)e<i?(o/=2,e=Math.round(a/o)):(o*=2,e=Math.round(a/o));return v=[],y(n,f,v,e,c,l,o),{steps:e,stepValue:o,graphMin:c,labels:v,maxValue:r}}function s(n){return Math.floor(Math.log(n)/Math.LN10)}function y(n,t,i,r,u,f,e){var o,s;if(t)if(n.logarithmic)for(s=u;s<f;)i.push(w(t,{value:fmtChartJS(n,1*s.toFixed(k(e)),n.fmtYLabel)})),s*=10;else for(o=0;o<r+1;o++)i.push(w(t,{value:fmtChartJS(n,1*(u+e*o).toFixed(k(e)),n.fmtYLabel)}))}function h(n){return Math.max.apply(Math,n)}function u(n){return Math.min.apply(Math,n)}function at(n,t){return n?n:t}function tt(n){return!isNaN(parseFloat(n))&&isFinite(n)}function p(n,t,i){return tt(t)&&n>t?t:tt(i)&&n<i?i:n}function k(n){return n%1!=0?n.toString().split(".")[1].length:0}function r(n,t){var r={};for(var i in n)r[i]=n[i];for(i in t)r[i]=t[i];return r}function w(n,t){var i=/\W/.test(n)?new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+n.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');"):g[n]=g[n]||w(document.getElementById(n).innerHTML);return t?i(t):i}function it(t,i,r,f,e,o,s,h,c,l){for(var p,v,y,a=0;a<i.crossText.length;a++)if(i.crossText[a]!=""&&i.crossTextOverlay[u([a,i.crossTextOverlay.length-1])]==s&&(l==1&&i.crossTextIter[u([a,i.crossTextIter.length-1])]=="first"||i.crossTextIter[u([a,i.crossTextIter.length-1])]==l||i.crossTextIter[u([a,i.crossTextIter.length-1])]=="all"||c==1&&i.crossTextIter[u([a,i.crossTextIter.length-1])]=="last")){t.save();t.beginPath();t.font=i.crossTextFontStyle[u([a,i.crossTextFontStyle.length-1])]+" "+i.crossTextFontSize[u([a,i.crossTextFontSize.length-1])]+"px "+i.crossTextFontFamily[u([a,i.crossTextFontFamily.length-1])];t.fillStyle=i.crossTextFontColor[u([a,i.crossTextFontColor.length-1])];textAlign=i.crossTextAlign[u([a,i.crossTextAlign.length-1])];textBaseline=i.crossTextBaseline[u([a,i.crossTextBaseline.length-1])];v=1*i.crossTextPosX[u([a,i.crossTextPosX.length-1])];y=1*i.crossTextPosY[u([a,i.crossTextPosY.length-1])];switch(1*i.crossTextRelativePosX[u([a,i.crossTextRelativePosX.length-1])]){case 0:textAlign=="default"&&(textAlign="left");break;case 1:v+=e;textAlign=="default"&&(textAlign="right");break;case 2:v+=r;textAlign=="default"&&(textAlign="center");break;case-2:v+=n.canvas.width/2;textAlign=="default"&&(textAlign="center");break;case 3:v+=v+2*r-e;textAlign=="default"&&(textAlign="left");break;case 4:v+=n.canvas.width;textAlign=="default"&&(textAlign="right");break;default:v+=r;textAlign=="default"&&(textAlign="center")}switch(1*i.crossTextRelativePosY[u([a,i.crossTextRelativePosY.length-1])]){case 0:textBaseline=="default"&&(textBaseline="top");break;case 3:y+=o;textBaseline=="default"&&(textBaseline="top");break;case 2:y+=f;textBaseline=="default"&&(textBaseline="middle");break;case-2:y+=n.canvas.height/2;textBaseline=="default"&&(textBaseline="middle");break;case 1:y+=y+2*f-o;textBaseline=="default"&&(textBaseline="bottom");break;case 4:y+=n.canvas.height;textBaseline=="default"&&(textBaseline="bottom");break;default:y+=f;textBaseline=="default"&&(textBaseline="middle")}t.textAlign=textAlign;t.textBaseline=textBaseline;t.translate(1*v,1*y);t.rotate(i.crossTextAngle[u([a,i.crossTextAngle.length-1])]);i.crossText[a].substring(0,1)=="%"?typeof i.crossTextFunction=="function"&&(p=i.crossTextFunction(a,i.crossText[a],t,i,r,f,e,o,s,h,c)):p=i.crossText[a];t.fillText(p,0,0);t.stroke();t.restore()}}function o(n,t,i,r,u,f,e,o,s,c,l){var p,a;t.canvasBackgroundColor!="none"&&(i.canvas.style.background=t.canvasBackgroundColor);var v=0,rt=0,dt=0,ut=0,pt=0,et=0,wt=0,tt=0,bt=0,ht=0,ct=0,w=0,ft=0,lt=0,ot=0,k=0,at=0,vt=0,d=0,g=0,rt=0,dt=0,st=0,yt=0,it=1,b=0,nt=0,y=0,kt=0;if(t.canvasBorders&&(v=t.canvasBordersWidth),s)for(i.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,a=0;a<n.labels.length;a++)p=i.measureText(fmtChartJS(t,n.labels[a],t.fmtXLabel)).width,it=p>it?p:it;if(widestYLabel=1,s&&f!=null)for(i.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,a=f.length-1;a>=0;a--)typeof f[a]=="string"&&f[a].trim()!=""&&(p=i.measureText(fmtChartJS(t,f[a],t.fmtYLabel)).width,widestYLabel=p>widestYLabel?p:widestYLabel);if(b=v+t.spaceLeft,nt=v+t.spaceRight,s&&(typeof t.yAxisLabel!="undefined"&&t.yAxisLabel.trim()!=""&&(rt=t.yAxisFontSize+t.yAxisLabelSpaceLeft+t.yAxisLabelSpaceRight,yAxisLabelPosLeft=v+t.spaceLeft+t.yAxisLabelSpaceLeft+t.yAxisFontSize,yAxisLabelPosRight=u-v-t.spaceRight-t.yAxisLabelSpaceLeft-t.yAxisFontSize),t.yAxisLeft&&(b=o==!1?v+t.spaceLeft+rt+widestYLabel+t.yAxisSpaceLeft+t.yAxisSpaceRight:v+t.spaceLeft+rt+it+t.yAxisSpaceLeft+t.yAxisSpaceRight),t.yAxisRight&&(nt=o==!1?v+t.spaceRight+rt+widestYLabel+t.yAxisSpaceLeft+t.yAxisSpaceRight:v+t.spaceRight+rt+it+t.yAxisSpaceLeft+t.yAxisSpaceRight)),availableWidth=u-b-nt,t.graphTitle.trim()!=""&&(ut=t.graphTitleFontSize+t.graphTitleSpaceBefore+t.graphTitleSpaceAfter,pt=v+t.spaceTop+ut-t.graphTitleSpaceAfter),t.graphSubTitle.trim()!=""&&(et=t.graphSubTitleFontSize+t.graphSubTitleSpaceBefore+t.graphSubTitleSpaceAfter,wt=v+t.spaceTop+ut+et-t.graphSubTitleSpaceAfter),s&&typeof t.yAxisUnit!="undefined"&&t.yAxisUnit.trim()!=""&&(ht=t.yAxisUnitFontSize+t.yAxisUnitSpaceBefore+t.yAxisUnitSpaceAfter,ct=v+t.spaceTop+ut+et+ht-t.yAxisUnitSpaceAfter),topNotUsableSize=v+t.spaceTop+ut+et+ht+t.graphSpaceBefore,typeof t.footNote!="undefined"&&t.footNote.trim()!=""&&(tt=t.footNoteFontSize+t.footNoteSpaceBefore+t.footNoteSpaceAfter,bt=r-t.spaceBottom-v-t.footNoteSpaceAfter),typeof t.legend!="undefined"&&t.legend==!0){if(i.font=t.legendFontStyle+" "+t.legendFontSize+"px "+t.legendFontFamily,c)for(a=n.datasets.length-1;a>=0;a--)typeof n.datasets[a].title=="string"&&n.datasets[a].title.trim()!=""&&(ft++,p=i.measureText(fmtChartJS(t,n.datasets[a].title,t.fmtLegend)).width,w=p>w?p:w);else for(a=n.length-1;a>=0;a--)typeof n[a].title=="string"&&n[a].title.trim()!=""&&(ft++,p=i.measureText(fmtChartJS(t,n[a].title,t.fmtLegend)).width,w=p>w?p:w);ft>1&&(w+=t.legendBlockSize+t.legendSpaceBetweenBoxAndText,availableLegendWidth=u-t.spaceLeft-t.spaceRight-2*v-t.legendSpaceLeftText-t.legendSpaceRightText,t.legendBorders==!0&&(availableLegendWidth-=2*t.legendBordersWidth-t.legendBordersSpaceLeft-t.legendBordersSpaceRight),maxLegendOnLine=Math.floor((availableLegendWidth+t.legendSpaceBetweenTextHorizontal)/(w+t.legendSpaceBetweenTextHorizontal)),lt=Math.ceil(ft/maxLegendOnLine),ot=Math.ceil(ft/lt),k=lt*(t.legendFontSize+t.legendSpaceBetweenTextVertical)-t.legendSpaceBetweenTextVertical+t.legendSpaceBeforeText+t.legendSpaceAfterText,vt=r-v-t.spaceBottom-tt-k+t.legendSpaceBeforeText+t.legendFontSize,at=t.spaceLeft+(u-t.spaceLeft-t.spaceRight-ot*(w+t.legendSpaceBetweenTextHorizontal)+t.legendSpaceBetweenTextHorizontal)/2,t.legendBorders==!0&&(k+=2*t.legendBordersWidth+t.legendBordersSpaceBefore+t.legendBordersSpaceAfter,vt-=t.legendBordersWidth+t.legendBordersSpaceAfter,g=Math.floor(r-v-t.spaceBottom-tt-k+t.legendBordersWidth/2+t.legendBordersSpaceBefore),d=Math.floor(at-t.legendSpaceLeftText-t.legendBordersWidth/2),legendBorderHeight=Math.ceil(k-t.legendBordersWidth)-t.legendBordersSpaceBefore-t.legendBordersSpaceAfter,legendBorderWidth=Math.ceil(ot*(w+t.legendSpaceBetweenTextHorizontal))-t.legendSpaceBetweenTextHorizontal+t.legendBordersWidth+t.legendSpaceRightText+t.legendSpaceLeftText))}if(s&&typeof t.xAxisLabel!="undefined"&&t.xAxisLabel.trim()!=""&&(st=t.xAxisFontSize+t.xAxisLabelSpaceBefore+t.xAxisLabelSpaceAfter,xAxisLabelPos=r-v-t.spaceBottom-tt-k-t.xAxisLabelSpaceAfter),xLabelWidth=0,s&&(t.xAxisBottom||t.xAxisTop)&&(o==!1?(widestLabel=it,nblab=n.labels.length):(widestLabel=widestYLabel,nblab=f.length),t.rotateLabels=="smart"?(y=0,(availableWidth+t.xAxisSpaceBetweenLabels)/nblab<widestLabel+t.xAxisSpaceBetweenLabels&&(y=45,availableWidth/nblab<Math.abs(Math.cos(y*Math.PI/180)*widestLabel)&&(y=90))):(y=t.rotateLabels,y<0&&(y=0),y>180&&(y=180)),y>90&&(y+=180),yt=Math.abs(Math.sin(y*Math.PI/180)*widestLabel)+Math.abs(Math.sin((y+90)*Math.PI/180)*t.scaleFontSize)+t.xAxisSpaceBefore+t.xAxisSpaceAfter,kt=r-v-t.spaceBottom-tt-k-st-(yt-t.xAxisSpaceBefore)-t.graphSpaceAfter,xLabelWidth=Math.abs(Math.cos(y*Math.PI/180)*widestLabel)+Math.abs(Math.cos((y+90)*Math.PI/180)*t.scaleFontSize),b=h([b,v+t.spaceLeft+xLabelWidth/2]),nt=h([nt,v+t.spaceRight+xLabelWidth/2]),availableWidth=u-b-nt),t.xAxisBottom?(bottomNotUsableHeightWithoutXLabels=v+t.spaceBottom+tt+k+st,bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels+yt+t.graphSpaceAfter,availableHeight=r-topNotUsableSize-bottomNotUsableHeightWithXLabels):(bottomNotUsableHeightWithoutXLabels=v+t.spaceBottom+tt+k+st,bottomNotUsableHeightWithXLabels=bottomNotUsableHeightWithoutXLabels+t.graphSpaceAfter,availableHeight=r-topNotUsableSize-bottomNotUsableHeightWithXLabels),v>0&&(i.save(),i.beginPath(),i.lineWidth=2*v,i.strokeStyle=t.canvasBordersColor,i.moveTo(0,0),i.lineTo(0,r),i.lineTo(u,r),i.lineTo(u,0),i.lineTo(0,0),i.stroke(),i.restore()),ut>0&&(i.save(),i.beginPath(),i.font=t.graphTitleFontStyle+" "+t.graphTitleFontSize+"px "+t.graphTitleFontFamily,i.fillStyle=t.graphTitleFontColor,i.textAlign="center",i.textBaseline="bottom",i.translate(t.spaceLeft+(u-t.spaceLeft-t.spaceRight)/2,pt),i.fillText(t.graphTitle,0,0),i.stroke(),i.restore()),et>0&&(i.save(),i.beginPath(),i.font=t.graphSubTitleFontStyle+" "+t.graphSubTitleFontSize+"px "+t.graphSubTitleFontFamily,i.fillStyle=t.graphSubTitleFontColor,i.textAlign="center",i.textBaseline="bottom",i.translate(t.spaceLeft+(u-t.spaceLeft-t.spaceRight)/2,wt),i.fillText(t.graphSubTitle,0,0),i.stroke(),i.restore()),ht>0&&(t.yAxisLeft&&(i.save(),i.beginPath(),i.font=t.yAxisUnitFontStyle+" "+t.yAxisUnitFontSize+"px "+t.yAxisUnitFontFamily,i.fillStyle=t.yAxisUnitFontColor,i.textAlign="center",i.textBaseline="bottom",i.translate(b,ct),i.fillText(t.yAxisUnit,0,0),i.stroke(),i.restore()),t.yAxisRight&&(i.save(),i.beginPath(),i.font=t.yAxisUnitFontStyle+" "+t.yAxisUnitFontSize+"px "+t.yAxisUnitFontFamily,i.fillStyle=t.yAxisUnitFontColor,i.textAlign="center",i.textBaseline="bottom",i.translate(u-nt,ct),i.fillText(t.yAxisUnit,0,0),i.stroke(),i.restore())),rt>0&&(t.yAxisLeft&&(i.save(),i.beginPath(),i.font=t.yAxisFontStyle+" "+t.yAxisFontSize+"px "+t.yAxisFontFamily,i.fillStyle=t.yAxisFontColor,i.textAlign="center",i.textBaseline="bottom",i.translate(yAxisLabelPosLeft,topNotUsableSize+availableHeight/2),i.rotate(-(Math.PI/2)),i.fillText(t.yAxisLabel,0,0),i.stroke(),i.restore()),t.yAxisRight&&(i.save(),i.beginPath(),i.font=t.yAxisFontStyle+" "+t.yAxisFontSize+"px "+t.yAxisFontFamily,i.fillStyle=t.yAxisFontColor,i.textAlign="center",i.textBaseline="bottom",i.translate(yAxisLabelPosRight,topNotUsableSize+availableHeight/2),i.rotate(+(Math.PI/2)),i.fillText(t.yAxisLabel,0,0),i.stroke(),i.restore())),st>0&&t.xAxisBottom&&(i.save(),i.beginPath(),i.font=t.xAxisFontStyle+" "+t.xAxisFontSize+"px "+t.xAxisFontFamily,i.fillStyle=t.xAxisFontColor,i.textAlign="center",i.textBaseline="bottom",i.translate(b+availableWidth/2,xAxisLabelPos),i.fillText(t.xAxisLabel,0,0),i.stroke(),i.restore()),ft>1)for(t.legendBorders==!0&&(i.save(),i.beginPath(),i.lineWidth=t.legendBordersWidth,i.strokeStyle=t.legendBordersColors,i.moveTo(d,g),i.lineTo(d,g+legendBorderHeight),i.lineTo(d+legendBorderWidth,g+legendBorderHeight),i.lineTo(d+legendBorderWidth,g),i.lineTo(d,g),i.lineTo(d+legendBorderWidth,g),i.lineTo(d,g),i.lineTo(d,g+legendBorderHeight),i.stroke(),i.restore()),nbcols=ot-1,ypos=vt-(t.legendFontSize+t.legendSpaceBetweenTextVertical),xpos=0,fromi=c?n.datasets.length:n.length,a=fromi-1;a>=0;a--)orderi=a,e&&(orderi=c?n.datasets.length-a-1:n.length-a-1),tpof=c?typeof n.datasets[orderi].title:typeof n[orderi].title,tpof=="string"&&(lgtxt=c?fmtChartJS(t,n.datasets[orderi].title,t.fmtLegend).trim():fmtChartJS(t,n[orderi].title,t.fmtLegend).trim(),lgtxt!=""&&(nbcols++,nbcols==ot?(nbcols=0,xpos=at,ypos+=t.legendFontSize+t.legendSpaceBetweenTextVertical):xpos+=w+t.legendSpaceBetweenTextHorizontal,i.save(),i.beginPath(),i.strokeStyle=c?n.datasets[orderi].strokeColor:n[orderi].color,l?(i.lineWidth=1,i.moveTo(xpos,ypos),i.lineTo(xpos+t.legendBlockSize,ypos),i.lineTo(xpos+t.legendBlockSize,ypos-t.legendFontSize),i.lineTo(xpos,ypos-t.legendFontSize),i.lineTo(xpos,ypos),i.closePath(),i.fillStyle=c?n.datasets[orderi].fillColor:n[orderi].color,i.fill()):(i.lineWidth=t.datasetStrokeWidth,i.moveTo(xpos+2,ypos-t.legendFontSize/2),i.lineTo(xpos+2+t.legendBlockSize,ypos-t.legendFontSize/2)),i.stroke(),i.restore(),i.save(),i.beginPath(),i.font=t.legendFontStyle+" "+t.legendFontSize+"px "+t.legendFontFamily,i.fillStyle=t.legendFontColor,i.textAlign="left",i.textBaseline="bottom",i.translate(xpos+t.legendBlockSize+t.legendSpaceBetweenBoxAndText,ypos),i.fillText(lgtxt,0,0),i.stroke(),i.restore()));return t.footNote.trim()!=""&&(i.save(),i.font=t.footNoteFontStyle+" "+t.footNoteFontSize+"px "+t.footNoteFontFamily,i.fillStyle=t.footNoteFontColor,i.textAlign="center",i.textBaseline="bottom",i.translate(b+availableWidth/2,bt),i.fillText(t.footNote,0,0),i.stroke(),i.restore()),clrx=b,clrwidth=availableWidth,clry=topNotUsableSize,clrheight=availableHeight,{leftNotUsableSize:b,rightNotUsableSize:nt,availableWidth:availableWidth,topNotUsableSize:topNotUsableSize,bottomNotUsableHeightWithoutXLabels:bottomNotUsableHeightWithoutXLabels,bottomNotUsableHeightWithXLabels:bottomNotUsableHeightWithXLabels,availableHeight:availableHeight,widestXLabel:it,rotateLabels:y,xLabelPos:kt,clrx:clrx,clry:clry,clrwidth:clrwidth,clrheight:clrheight}}function vt(n){return Math.log(n)/Math.LN10}function l(n,t){t.clearRect?(nt(n),n.clearRect(0,0,f,e)):(nt(n),n.clearRect(0,0,f,e),n.fillStyle=t.savePngBackgroundColor,n.strokeStyle=t.savePngBackgroundColor,n.beginPath(),n.moveTo(0,0),n.lineTo(0,n.canvas.height),n.lineTo(n.canvas.width,n.canvas.height),n.lineTo(n.canvas.width,0),n.lineTo(0,0),n.stroke(),n.fill())}function a(n,t,i,r){i.annotateDisplay==!0&&(cursorDivCreated==!1&&(oCursor=new makeCursorObj("divCursor")),isIE()<9&&isIE()!=!1?n.canvas.attachEvent("on"+i.annotateFunction.split(" ")[0],function(t){(i.annotateFunction.split(" ")[1]=="left"&&t.which==1||i.annotateFunction.split(" ")[1]=="middle"&&t.which==2||i.annotateFunction.split(" ")[1]=="right"&&t.which==3||typeof i.annotateFunction.split(" ")[1]!="string")&&doMouseMove(n,i,t)}):n.canvas.addEventListener(i.annotateFunction.split(" ")[0],function(t){(i.annotateFunction.split(" ")[1]=="left"&&t.which==1||i.annotateFunction.split(" ")[1]=="middle"&&t.which==2||i.annotateFunction.split(" ")[1]=="right"&&t.which==3||typeof i.annotateFunction.split(" ")[1]!="string")&&doMouseMove(n,i,t)},!1));i.savePng&&(isIE()<9&&isIE()!=!1?n.canvas.attachEvent("on"+i.savePngFunction.split(" ")[0],function(u){(i.savePngFunction.split(" ")[1]=="left"&&u.which==1||i.savePngFunction.split(" ")[1]=="middle"&&u.which==2||i.savePngFunction.split(" ")[1]=="right"&&u.which==3||typeof i.savePngFunction.split(" ")[1]!="string")&&saveCanvas(n,t,i,r)}):n.canvas.addEventListener(i.savePngFunction.split(" ")[0],function(u){(i.savePngFunction.split(" ")[1]=="left"&&u.which==1||i.savePngFunction.split(" ")[1]=="middle"&&u.which==2||i.savePngFunction.split(" ")[1]=="right"&&u.which==3||typeof i.savePngFunction.split(" ")[1]!="string")&&saveCanvas(n,t,i,r)},!1))}var t=this,b={linear:function(n){return n},easeInQuad:function(n){return n*n},easeOutQuad:function(n){return-1*n*(n-2)},easeInOutQuad:function(n){return(n/=1/2)<1?1/2*n*n:-1/2*(--n*(n-2)-1)},easeInCubic:function(n){return n*n*n},easeOutCubic:function(n){return 1*((n=n/1-1)*n*n+1)},easeInOutCubic:function(n){return(n/=1/2)<1?1/2*n*n*n:1/2*((n-=2)*n*n+2)},easeInQuart:function(n){return n*n*n*n},easeOutQuart:function(n){return-1*((n=n/1-1)*n*n*n-1)},easeInOutQuart:function(n){return(n/=1/2)<1?1/2*n*n*n*n:-1/2*((n-=2)*n*n*n-2)},easeInQuint:function(n){return 1*(n/=1)*n*n*n*n},easeOutQuint:function(n){return 1*((n=n/1-1)*n*n*n*n+1)},easeInOutQuint:function(n){return(n/=1/2)<1?1/2*n*n*n*n*n:1/2*((n-=2)*n*n*n*n+2)},easeInSine:function(n){return-1*Math.cos(n/1*(Math.PI/2))+1},easeOutSine:function(n){return 1*Math.sin(n/1*(Math.PI/2))},easeInOutSine:function(n){return-1/2*(Math.cos(Math.PI*n/1)-1)},easeInExpo:function(n){return n==0?1:1*Math.pow(2,10*(n/1-1))},easeOutExpo:function(n){return n==1?1:1*(-Math.pow(2,-10*n)+1)},easeInOutExpo:function(n){return n==0?0:n==1?1:(n/=1/2)<1?1/2*Math.pow(2,10*(n-1)):1/2*(-Math.pow(2,-10*--n)+2)},easeInCirc:function(n){return n>=1?n:-1*(Math.sqrt(1-(n/=1)*n)-1)},easeOutCirc:function(n){return 1*Math.sqrt(1-(n=n/1-1)*n)},easeInOutCirc:function(n){return(n/=1/2)<1?-1/2*(Math.sqrt(1-n*n)-1):1/2*(Math.sqrt(1-(n-=2)*n)+1)},easeInElastic:function(n){var r=1.70158,t=0,i=1;return n==0?0:(n/=1)==1?1:(t||(t=1*.3),i<Math.abs(1)?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(n-=1))*Math.sin((n*1-r)*2*Math.PI/t)))},easeOutElastic:function(n){var r=1.70158,t=0,i=1;return n==0?0:(n/=1)==1?1:(t||(t=1*.3),i<Math.abs(1)?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*n)*Math.sin((n*1-r)*2*Math.PI/t)+1)},easeInOutElastic:function(n){var r=1.70158,t=0,i=1;return n==0?0:(n/=1/2)==2?1:(t||(t=1*.3*1.5),i<Math.abs(1)?(i=1,r=t/4):r=t/(2*Math.PI)*Math.asin(1/i),n<1)?-.5*i*Math.pow(2,10*(n-=1))*Math.sin((n*1-r)*2*Math.PI/t):i*Math.pow(2,-10*(n-=1))*Math.sin((n*1-r)*2*Math.PI/t)*.5+1},easeInBack:function(n){var t=1.70158;return 1*(n/=1)*n*((t+1)*n-t)},easeOutBack:function(n){var t=1.70158;return 1*((n=n/1-1)*n*((t+1)*n+t)+1)},easeInOutBack:function(n){var t=1.70158;return(n/=1/2)<1?1/2*n*n*(((t*=1.525)+1)*n-t):1/2*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:function(n){return 1-b.easeOutBounce(1-n)},easeOutBounce:function(n){return(n/=1)<1/2.75?1*7.5625*n*n:n<2/2.75?1*(7.5625*(n-=1.5/2.75)*n+.75):n<2.5/2.75?1*(7.5625*(n-=2.25/2.75)*n+.9375):1*(7.5625*(n-=2.625/2.75)*n+.984375)},easeInOutBounce:function(n){return n<1/2?b.easeInBounce(n*2)*.5:b.easeOutBounce(n*2-1)*.5+1*.5}},f=n.canvas.width,e=n.canvas.height,d,g;/*window.devicePixelRatio&&(n.canvas.style.width=f+"px",n.canvas.style.height=e+"px",n.canvas.height=e*window.devicePixelRatio,n.canvas.width=f*window.devicePixelRatio,n.scale(window.devicePixelRatio,window.devicePixelRatio));*/this.PolarArea=function(i,u){t.PolarArea.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,scaleOverlay:!0,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90};t.PolarArea.defaults=r(t.defaults.commonOptions,t.PolarArea.defaults);t.PolarArea.defaults=r(t.PolarArea.defaults,charJSPersonnalDefaultOptions);t.PolarArea.defaults=r(t.PolarArea.defaults,charJSPersonnalDefaultOptionsPolarArea);var f=u?r(t.PolarArea.defaults,u):t.PolarArea.defaults;return new rt(i,f,n)};this.Radar=function(i,u){t.Radar.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,scaleFactors:null,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleShowLine:!0,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!1,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowLabelBackdrop:!0,scaleBackdropColor:"rgba(255,255,255,0.75)",scaleBackdropPaddingY:2,scaleBackdropPaddingX:2,angleShowLineOut:!0,angleLineColor:"rgba(0,0,0,.1)",angleLineWidth:1,pointLabelFontFamily:"'Arial'",pointLabelFontStyle:"normal",pointLabelFontSize:12,pointLabelFontColor:"#666",pointDot:!0,pointDotRadius:3,pointDotStrokeWidth:1,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>",startAngle:90,graphMaximized:!1};t.Radar.defaults=r(t.defaults.commonOptions,t.Radar.defaults);t.Radar.defaults=r(t.Radar.defaults,charJSPersonnalDefaultOptions);t.Radar.defaults=r(t.Radar.defaults,charJSPersonnalDefaultOptionsRadar);var f=u?r(t.Radar.defaults,u):t.Radar.defaults;return new ut(i,f,n)};this.Pie=function(i,u){t.Pie.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,graphMaximized:!0,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1};t.Pie.defaults=r(t.defaults.commonOptions,t.Pie.defaults);t.Pie.defaults=r(t.Pie.defaults,charJSPersonnalDefaultOptions);t.Pie.defaults=r(t.Pie.defaults,charJSPersonnalDefaultOptionsPie);var f=u?r(t.Pie.defaults,u):t.Pie.defaults;return new ft(i,f,n)};this.Doughnut=function(i,u){t.Doughnut.defaults={inGraphDataShow:!1,inGraphDataPaddingRadius:5,inGraphDataPaddingAngle:0,inGraphDataTmpl:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",inGraphDataAlign:"off-center",inGraphDataVAlign:"off-center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataRadiusPosition:3,inGraphDataAnglePosition:2,segmentShowStroke:!0,segmentStrokeColor:"#fff",segmentStrokeWidth:2,percentageInnerCutout:50,animation:!0,animationSteps:100,animationEasing:"easeOutBounce",animateRotate:!0,animateScale:!1,onAnimationComplete:null,annotateLabel:"<%=(v1 == ''? '' : v1+':')+ v2 + ' (' + v6 + ' %)'%>",startAngle:90,radiusScale:1};t.Doughnut.defaults=r(t.defaults.commonOptions,t.Doughnut.defaults);t.Doughnut.defaults=r(t.Doughnut.defaults,charJSPersonnalDefaultOptions);t.Doughnut.defaults=r(t.Doughnut.defaults,charJSPersonnalDefaultOptionsDoughnut);var f=u?r(t.Doughnut.defaults,u):t.Doughnut.defaults;return new et(i,f,n)};this.Line=function(i,u){t.Line.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,bezierCurve:!0,pointDot:!0,pointDotRadius:4,pointDotStrokeWidth:2,datasetStroke:!0,datasetStrokeWidth:2,datasetFill:!0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3%>"};t.Line.defaults=r(t.defaults.commonOptions,t.Line.defaults);t.Line.defaults=r(t.defaults.xyAxisCommonOptions,t.Line.defaults);t.Line.defaults=r(t.Line.defaults,charJSPersonnalDefaultOptions);t.Line.defaults=r(t.Line.defaults,charJSPersonnalDefaultOptionsLine);var f=u?r(t.Line.defaults,u):t.Line.defaults;return new ot(i,f,n)};this.StackedBar=function(i,u){t.StackedBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:-3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"top",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"};t.StackedBar.defaults=r(t.defaults.commonOptions,t.StackedBar.defaults);t.StackedBar.defaults=r(t.defaults.xyAxisCommonOptions,t.StackedBar.defaults);t.StackedBar.defaults=r(t.StackedBar.defaults,charJSPersonnalDefaultOptions);t.StackedBar.defaults=r(t.StackedBar.defaults,charJSPersonnalDefaultOptionsStackedBar);var f=u?r(t.StackedBar.defaults,u):t.StackedBar.defaults;return new st(i,f,n)};this.HorizontalStackedBar=function(i,u){t.HorizontalStackedBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:-3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"right",inGraphDataVAlign:"center",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"};t.HorizontalStackedBar.defaults=r(t.defaults.commonOptions,t.HorizontalStackedBar.defaults);t.HorizontalStackedBar.defaults=r(t.defaults.xyAxisCommonOptions,t.HorizontalStackedBar.defaults);t.HorizontalStackedBar.defaults=r(t.HorizontalStackedBar.defaults,charJSPersonnalDefaultOptions);t.HorizontalStackedBar.defaults=r(t.HorizontalStackedBar.defaults,charJSPersonnalDefaultOptionsHorizontalStackedBar);var f=u?r(t.HorizontalStackedBar.defaults,u):t.HorizontalStackedBar.defaults;return new ht(i,f,n)};this.Bar=function(i,u){t.Bar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:0,inGraphDataPaddingY:3,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"center",inGraphDataVAlign:"bottom",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:2,inGraphDataYPosition:3,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,showYAxisMin:!0,rotateLabels:"smart",logarithmic:!1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"};t.Bar.defaults=r(t.defaults.commonOptions,t.Bar.defaults);t.Bar.defaults=r(t.defaults.xyAxisCommonOptions,t.Bar.defaults);t.Bar.defaults=r(t.Bar.defaults,charJSPersonnalDefaultOptions);t.Bar.defaults=r(t.Bar.defaults,charJSPersonnalDefaultOptionsBar);var f=u?r(t.Bar.defaults,u):t.Bar.defaults;return new ct(i,f,n)};this.HorizontalBar=function(i,u){t.HorizontalBar.defaults={inGraphDataShow:!1,inGraphDataPaddingX:3,inGraphDataPaddingY:0,inGraphDataTmpl:"<%=v3%>",inGraphDataAlign:"left",inGraphDataVAlign:"middle",inGraphDataRotate:0,inGraphDataFontFamily:"'Arial'",inGraphDataFontSize:12,inGraphDataFontStyle:"normal",inGraphDataFontColor:"#666",inGraphDataXPosition:3,inGraphDataYPosition:2,scaleOverlay:!1,scaleOverride:!1,scaleSteps:null,scaleStepWidth:null,scaleStartValue:null,scaleLineColor:"rgba(0,0,0,.1)",scaleLineWidth:1,scaleShowLabels:!0,scaleLabel:"<%=value%>",scaleFontFamily:"'Arial'",scaleFontSize:12,scaleFontStyle:"normal",scaleFontColor:"#666",scaleShowGridLines:!0,scaleXGridLinesStep:1,scaleYGridLinesStep:1,scaleGridLineColor:"rgba(0,0,0,.05)",scaleGridLineWidth:1,scaleTickSizeLeft:5,scaleTickSizeRight:5,scaleTickSizeBottom:5,scaleTickSizeTop:5,showYAxisMin:!0,rotateLabels:"smart",barShowStroke:!0,barStrokeWidth:2,barValueSpacing:5,barDatasetSpacing:1,barBorderRadius:0,animation:!0,animationSteps:60,animationEasing:"easeOutQuart",onAnimationComplete:null,annotateLabel:"<%=(v1 == '' ? '' : v1) + (v1!='' && v2 !='' ? ' - ' : '')+(v2 == '' ? '' : v2)+(v1!='' || v2 !='' ? ':' : '') + v3 + ' (' + v6 + ' %)'%>"};t.HorizontalBar.defaults=r(t.defaults.commonOptions,t.HorizontalBar.defaults);t.HorizontalBar.defaults=r(t.defaults.xyAxisCommonOptions,t.HorizontalBar.defaults);t.HorizontalBar.defaults=r(t.HorizontalBar.defaults,charJSPersonnalDefaultOptions);t.HorizontalBar.defaults=r(t.HorizontalBar.defaults,charJSPersonnalDefaultOptionsHorizontalBar);var f=u?r(t.HorizontalBar.defaults,u):t.HorizontalBar.defaults;return new lt(i,f,n)};t.defaults={};t.defaults.commonOptions={clearRect:!0,dynamicDisplay:!1,graphSpaceBefore:5,graphSpaceAfter:5,canvasBorders:!1,canvasBackgroundColor:"none",canvasBordersWidth:3,canvasBordersColor:"black",graphTitle:"",graphTitleFontFamily:"'Arial'",graphTitleFontSize:24,graphTitleFontStyle:"bold",graphTitleFontColor:"#666",graphTitleSpaceBefore:5,graphTitleSpaceAfter:5,graphSubTitle:"",graphSubTitleFontFamily:"'Arial'",graphSubTitleFontSize:18,graphSubTitleFontStyle:"normal",graphSubTitleFontColor:"#666",graphSubTitleSpaceBefore:5,graphSubTitleSpaceAfter:5,footNote:"",footNoteFontFamily:"'Arial'",footNoteFontSize:8,footNoteFontStyle:"bold",footNoteFontColor:"#666",footNoteSpaceBefore:5,footNoteSpaceAfter:5,legend:!1,legendFontFamily:"'Arial'",legendFontSize:12,legendFontStyle:"normal",legendFontColor:"#666",legendBlockSize:15,legendBorders:!0,legendBordersWidth:1,legendBordersColors:"#666",legendBordersSpaceBefore:5,legendBordersSpaceAfter:5,legendBordersSpaceLeft:5,legendBordersSpaceRight:5,legendSpaceBeforeText:5,legendSpaceAfterText:5,legendSpaceLeftText:5,legendSpaceRightText:5,legendSpaceBetweenTextVertical:5,legendSpaceBetweenTextHorizontal:5,legendSpaceBetweenBoxAndText:5,annotateDisplay:!1,savePng:!1,savePngOuput:"NewWindow",savePngFunction:"mousedown right",savePngBackgroundColor:"WHITE",annotateFunction:"mousemove",annotateFontFamily:"'Arial'",annotateBorder:"none",annotateBorderRadius:"2px",annotateBackgroundColor:"rgba(0,0,0,0.8)",annotateFontSize:12,annotateFontColor:"white",annotateFontStyle:"normal",annotatePadding:"3px",annotateClassName:"",crossText:[""],crossTextIter:["all"],crossTextOverlay:[!0],crossTextFontFamily:["'Arial'"],crossTextFontSize:[12],crossTextFontStyle:["normal"],crossTextFontColor:["rgba(220,220,220,1)"],crossTextRelativePosX:[2],crossTextRelativePosY:[2],crossTextBaseline:["middle"],crossTextAlign:["center"],crossTextPosX:[0],crossTextPosY:[0],crossTextAngle:[0],crossTextFunction:null,spaceTop:0,spaceBottom:0,spaceRight:0,spaceLeft:0,decimalSeparator:".",thousandSeparator:"",roundNumber:"none",roundPct:-1,fmtV1:"none",fmtV2:"none",fmtV3:"none",fmtV4:"none",fmtV5:"none",fmtV6:"none",fmtV7:"none",fmtV8:"none",fmtV9:"none",fmtV10:"none",fmtV11:"none",fmtV12:"none",fmtV13:"none",fmtXLabel:"none",fmtYLabel:"none",fmtLegend:"none"};t.defaults.xyAxisCommonOptions={yAxisLeft:!0,yAxisRight:!1,xAxisBottom:!0,xAxisTop:!1,xAxisSpaceBetweenLabels:5,yAxisLabel:"",yAxisFontFamily:"'Arial'",yAxisFontSize:16,yAxisFontStyle:"normal",yAxisFontColor:"#666",yAxisLabelSpaceRight:5,yAxisLabelSpaceLeft:5,yAxisSpaceRight:5,yAxisSpaceLeft:5,xAxisLabel:"",xAxisFontFamily:"'Arial'",xAxisFontSize:16,xAxisFontStyle:"normal",xAxisFontColor:"#666",xAxisLabelSpaceBefore:5,xAxisLabelSpaceAfter:5,xAxisSpaceBefore:5,xAxisSpaceAfter:5,yAxisUnit:"",yAxisUnitFontFamily:"'Arial'",yAxisUnitFontSize:8,yAxisUnitFontStyle:"normal",yAxisUnitFontColor:"#666",yAxisUnitSpaceBefore:5,yAxisUnitSpaceAfter:5};var nt=function(n){n.clearRect(0,0,f,e)},rt=function(n,t,r){function et(u){for(var o=-t.startAngle*(Math.PI/180)+2*Math.PI,h=0,e=0,c=1,l=1,a,e=0,f=0;f<n.length;f++)typeof n[f].value=="undefined"||e++;for(e=Math.PI*2/e;o<0;)o+=2*Math.PI;while(o>2*Math.PI)o-=2*Math.PI;if(t.animation&&(t.animateScale&&(c=u),t.animateRotate&&(l=u)),u>=1)for(totvalue=0,f=0;f<n.length;f++)typeof n[f].value=="undefined"||(totvalue+=1*n[f].value);for(f=0;f<n.length;f++)typeof n[f].value=="undefined"||(r.beginPath(),r.arc(w,b,c*i(t,1*n[f].value,s,k),o,o+l*e,!1),r.lineTo(w,b),r.closePath(),r.fillStyle=n[f].color,r.fill(),o+=e,t.segmentShowStroke&&(r.strokeStyle=t.segmentStrokeColor,r.lineWidth=t.segmentStrokeWidth,r.stroke()));if(u>=1)for(o=-t.startAngle*(Math.PI/180)+2*Math.PI,f=0;f<n.length;f++)typeof n[f].value=="undefined"||(h+=1*n[f].value,o+=e,lgtxt=typeof n[f].title=="string"?n[f].title.trim():"",jsGraphAnnotate[r.ChartNewId][ft++]=["ARC",w,b,0,i(t,1*n[f].value,s,k),o-e,o,lgtxt,1*n[f].value,h,totvalue,e,f],t.inGraphDataShow&&(t.inGraphDataAnglePosition==1?posAngle=d+t.inGraphDataPaddingAngle*(Math.PI/180):t.inGraphDataAnglePosition==2?posAngle=d-e/2+t.inGraphDataPaddingAngle*(Math.PI/180):t.inGraphDataAnglePosition==3&&(posAngle=d-e+t.inGraphDataPaddingAngle*(Math.PI/180)),t.inGraphDataRadiusPosition==1?labelRadius=0+t.inGraphDataPaddingRadius:t.inGraphDataRadiusPosition==2?labelRadius=i(t,1*n[f].value,s,k)/2+t.inGraphDataPaddingRadius:t.inGraphDataRadiusPosition==3?labelRadius=i(t,1*n[f].value,s,k)+t.inGraphDataPaddingRadius:t.inGraphDataRadiusPosition==4&&(labelRadius=k*s.steps+t.inGraphDataPaddingRadius),r.save(),r.textAlign=t.inGraphDataAlign=="off-center"?t.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":t.inGraphDataAlign=="to-center"?t.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":t.inGraphDataAlign,r.textBaseline=t.inGraphDataVAlign=="off-center"?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":t.inGraphDataVAlign=="to-center"?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":t.inGraphDataVAlign,r.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily,r.fillStyle=t.inGraphDataFontColor,a=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,lgtxt,t.fmtV1),v2:fmtChartJS(t,1*n[f].value,t.fmtV2),v3:fmtChartJS(t,h,t.fmtV3),v4:fmtChartJS(t,totvalue,t.fmtV4),v5:fmtChartJS(t,e,t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*n[f].value/totvalue,t.fmtV6),t.roundPct),v7:fmtChartJS(t,w,t.fmtV7),v8:fmtChartJS(t,b,t.fmtV8),v9:fmtChartJS(t,0,t.fmtV9),v10:fmtChartJS(t,i(t,1*n[f].value,s,k),t.fmtV10),v11:fmtChartJS(t,o-e,t.fmtV11),v12:fmtChartJS(t,e,t.fmtV12),v13:fmtChartJS(t,f,t.fmtV13)}),r.translate(w+labelRadius*Math.cos(posAngle),b-labelRadius*Math.sin(posAngle)),t.inGraphDataRotate=="inRadiusAxis"?r.rotate(2*Math.PI-posAngle):t.inGraphDataRotate=="inRadiusAxisRotateLabels"?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?r.rotate(3*Math.PI-posAngle):r.rotate(2*Math.PI-posAngle):r.rotate(t.inGraphDataRotate*(Math.PI/180)),r.fillText(a,0,0),r.restore(),d-=e))}function ot(){for(var i,u,n=0;n<s.steps;n++)t.scaleShowLine&&(r.beginPath(),r.arc(w,b,k*(n+1),0,Math.PI*2,!0),r.strokeStyle=t.scaleLineColor,r.lineWidth=t.scaleLineWidth,r.stroke()),t.scaleShowLabels&&(r.textAlign="center",r.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,i=s.labels[n+1],t.scaleShowLabelBackdrop&&(u=r.measureText(i).width,r.fillStyle=t.scaleBackdropColor,r.beginPath(),r.rect(Math.round(w-u/2-t.scaleBackdropPaddingX),Math.round(b-k*(n+1)-t.scaleFontSize*.5-t.scaleBackdropPaddingY),Math.round(u+t.scaleBackdropPaddingX*2),Math.round(t.scaleFontSize+t.scaleBackdropPaddingY*2)),r.fill()),r.textBaseline="middle",r.fillStyle=t.scaleFontColor,r.fillText(i,w,b-k*(n+1)))}function st(){for(var f,e,i=Number.MIN_VALUE,r=Number.MAX_VALUE,u=0;u<n.length;u++)1*n[u].value>i&&(i=1*n[u].value),1*n[u].value<r&&(r=1*n[u].value);return Math.abs(i-r)<1e-8&&(i=h([i*2,1]),r=0),isNaN(t.graphMin)||(r=t.graphMin),isNaN(t.graphMax)||(i=t.graphMax),f=Math.floor(it/(tt*.66)),e=Math.floor(it/tt*.5),{maxValue:i,minValue:r,maxSteps:f,minSteps:e}}var k,s,tt,it,g,nt,p,w,b,rt,ut,d,ft;if(typeof r.ChartNewId==undefined&&(rt=new Date,ut=rt.getTime(),r.ChartNewId="PolarArea_"+ut),dynamicFunction(n,t,r,"PolarArea")){for(d=t.startAngle*(Math.PI/180)+2*Math.PI;t.startAngle<0;)t.startAngle+=360;while(t.startAngle>360)t.startAngle-=360;while(d<0)d+=2*Math.PI;while(d>2*Math.PI)d-=2*Math.PI;t.logarithmic=!1;ft=0;jsGraphAnnotate[r.ChartNewId]=[];a(r,n,t,"PolarArea");l(r,t);g=st();nt=t.scaleShowLabels?t.scaleLabel:"";t.scaleOverride?(s={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,graphMax:t.scaleStartValue+t.scaleSteps*t.scaleStepWidth,labels:[]},y(t,nt,s.labels,s.steps,t.scaleStartValue,s.graphMax,t.scaleStepWidth),p=o(n,t,r,e,f,s.labels,!0,!1,!1,!1,!0)):(s=v(t,g.maxSteps,g.minSteps,g.maxValue,g.minValue,nt),p=o(n,t,r,e,f,s.labels,!0,!1,!1,!1,!0));w=p.leftNotUsableSize+p.availableWidth/2;b=p.topNotUsableSize+p.availableHeight/2;k=Math.floor((u([p.availableHeight,p.availableWidth])/2-5)/s.steps);c(t,ot,et,r,p.clrx,p.clry,p.clrwidth,p.clrheight,w,b,w-(u([p.availableHeight,p.availableWidth])/2-5),b+(u([p.availableHeight,p.availableWidth])/2-5),n)}},ut=function(n,t,r){function ft(f){for(var s,y,w,c,e,v,d,l=[],a=[],o=0;o<n.datasets.length;o++)for(e=0;e<n.datasets[o].data.length;e++)l[e]=0,a[e]=-999999999;for(o=0;o<n.datasets.length;o++)for(e=0;e<n.datasets[o].data.length;e++)typeof n.datasets[o].data[e]=="undefined"||(l[e]+=1*n.datasets[o].data[e],a[e]=h([a[e],1*n.datasets[o].data[e]]));for(s=2*Math.PI/n.datasets[0].data.length,r.save(),o=0;o<n.datasets.length;o++){for(f>=1&&(y=typeof n.datasets[o].title=="string"?n.datasets[o].title.trim():""),w=-1,e=0;e<n.datasets[o].data.length;e++)typeof n.datasets[o].data[e]=="undefined"||(w==-1?(r.beginPath(),r.moveTo(b+f*Math.cos(t.startAngle*Math.PI/180-e*s)*i(t,n.datasets[o].data[e],u,p),k-f*Math.sin(t.startAngle*Math.PI/180-e*s)*i(t,n.datasets[o].data[e],u,p)),w=e):r.lineTo(b+f*Math.cos(t.startAngle*Math.PI/180-e*s)*i(t,n.datasets[o].data[e],u,p),k-f*Math.sin(t.startAngle*Math.PI/180-e*s)*i(t,n.datasets[o].data[e],u,p)),f>=1&&(divprev=o==0?0:n.datasets[o].data[e]-n.datasets[o-1].data[e],divnext=o==n.datasets.length-1?0:n.datasets[o+1].data[e]-n.datasets[o].data[e],lgtxt2=typeof n.labels[e]=="string"?n.labels[e].trim():"",jsGraphAnnotate[r.ChartNewId][ut++]=["POINT",b+Math.cos(t.startAngle*Math.PI/180-e*s)*i(t,n.datasets[o].data[e],u,p),k-Math.sin(t.startAngle*Math.PI/180-e*s)*i(t,n.datasets[o].data[e],u,p),y,lgtxt2,1*n.datasets[o].data[e],divprev,divnext,a[e],l[e],o,e]));if(r.closePath(),r.fillStyle=n.datasets[o].fillColor,r.strokeStyle=n.datasets[o].strokeColor,r.lineWidth=t.datasetStrokeWidth,r.fill(),r.stroke(),t.pointDot)for(r.beginPath(),r.fillStyle=n.datasets[o].pointColor,r.strokeStyle=n.datasets[o].pointStrokeColor,r.lineWidth=t.pointDotStrokeWidth,c=0;c<n.datasets[o].data.length;c++)typeof n.datasets[o].data[c]=="undefined"||(r.beginPath(),r.arc(b+f*Math.cos(t.startAngle*Math.PI/180-c*s)*i(t,n.datasets[o].data[c],u,p),k-f*Math.sin(t.startAngle*Math.PI/180-c*s)*i(t,n.datasets[o].data[c],u,p),t.pointDotRadius,2*Math.PI,!1),r.fill(),r.stroke())}if(r.restore(),f>=1&&t.inGraphDataShow)for(o=0;o<n.datasets.length;o++)for(y=typeof n.datasets[o].title=="string"?n.datasets[o].title.trim():"",e=0;e<n.datasets[o].data.length;e++)typeof n.datasets[o].data[e]=="undefined"||(divprev=o==0?0:n.datasets[o].data[e]-n.datasets[o-1].data[e],divnext=o==n.datasets.length-1?0:n.datasets[o+1].data[e]-n.datasets[o].data[e],lgtxt2=typeof n.labels[e]=="string"?n.labels[e].trim():"",r.save(),r.textAlign=t.inGraphDataAlign,r.textBaseline=t.inGraphDataVAlign,r.textAlign=t.inGraphDataAlign=="off-center"?t.inGraphDataRotate=="inRadiusAxis"||(e*s+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(e*s+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":t.inGraphDataAlign=="to-center"?t.inGraphDataRotate=="inRadiusAxis"||(e*s+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(e*s+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":t.inGraphDataAlign,r.textBaseline=t.inGraphDataVAlign=="off-center"?(e*s+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":t.inGraphDataVAlign=="to-center"?(e*s+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":t.inGraphDataVAlign,r.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily,r.fillStyle=t.inGraphDataFontColor,t.inGraphDataRadiusPosition==1?v=0+t.inGraphDataPaddingRadius:t.inGraphDataRadiusPosition==2?v=i(t,n.datasets[o].data[e],u,p)/2+t.inGraphDataPaddingRadius:t.inGraphDataRadiusPosition==3&&(v=i(t,n.datasets[o].data[e],u,p)+t.inGraphDataPaddingRadius),r.translate(b+Math.cos(t.startAngle*Math.PI/180-e*s)*v,k-Math.sin(t.startAngle*Math.PI/180-e*s)*v),t.inGraphDataRotate=="inRadiusAxis"?r.rotate(e*s):t.inGraphDataRotate=="inRadiusAxisRotateLabels"?(e*s+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(e*s+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?r.rotate(3*Math.PI+e*s):r.rotate(2*Math.PI+e*s):r.rotate(t.inGraphDataRotate*(Math.PI/180)),d=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,y,t.fmtV1),v2:fmtChartJS(t,lgtxt2,t.fmtV2),v3:fmtChartJS(t,Math.round(1*n.datasets[o].data[e]*(t.scaleFactors!=null?t.scaleFactors[e]:1)),t.fmtV3),v4:fmtChartJS(t,divprev,t.fmtV4),v5:fmtChartJS(t,divnext,t.fmtV5),v6:fmtChartJS(t,a[e],t.fmtV6),v7:fmtChartJS(t,l[e],t.fmtV7),v8:roundToWithThousands(t,fmtChartJS(t,100*n.datasets[o].data[e]/l[e],t.fmtV8),t.roundPct),v9:fmtChartJS(t,b+Math.cos(t.startAngle*Math.PI/180-e*s)*i(t,n.datasets[o].data[e],u,p),t.fmtV9),v10:fmtChartJS(t,k-Math.sin(t.startAngle*Math.PI/180-e*s)*i(t,n.datasets[o].data[e],u,p),t.fmtV10),v11:fmtChartJS(t,o,t.fmtV11),v12:fmtChartJS(t,e,t.fmtV12)}),r.fillText(d,0,0),r.restore())}function et(){var o=2*Math.PI/n.datasets[0].data.length,h,c,i,l,f,d,a,s;if(r.save(),r.translate(b,k),r.rotate((90-t.startAngle)*Math.PI/180),t.angleShowLineOut)for(r.strokeStyle=t.angleLineColor,r.lineWidth=t.angleLineWidth,h=0;h<n.datasets[0].data.length;h++)r.rotate(o),r.beginPath(),r.moveTo(0,0),r.lineTo(0,-w),r.stroke();for(i=0;i<u.steps;i++)if(r.beginPath(),t.scaleShowLine){for(r.strokeStyle=t.scaleLineColor,r.lineWidth=t.scaleLineWidth,r.moveTo(0,-p*(i+1)),c=0;c<n.datasets[0].data.length;c++)r.rotate(o),r.lineTo(0,-p*(i+1));r.closePath();r.stroke()}if(r.rotate(-(90-t.startAngle)*Math.PI/180),t.scaleShowLabels)for(i=0;i<u.steps;i++)r.textAlign="center",r.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,r.textBaseline="middle",t.scaleShowLabelBackdrop&&(l=r.measureText(u.labels[i+1]).width,r.fillStyle=t.scaleBackdropColor,r.beginPath(),r.rect(Math.round(Math.cos(t.startAngle*Math.PI/180)*p*(i+1)-l/2-t.scaleBackdropPaddingX),Math.round(-Math.sin(t.startAngle*Math.PI/180)*p*(i+1)-t.scaleFontSize*.5-t.scaleBackdropPaddingY),Math.round(l+t.scaleBackdropPaddingX*2),Math.round(t.scaleFontSize+t.scaleBackdropPaddingY*2)),r.fill()),r.fillStyle=t.scaleFontColor,r.fillText(u.labels[i+1],Math.cos(t.startAngle*Math.PI/180)*p*(i+1),-Math.sin(t.startAngle*Math.PI/180)*p*(i+1));for(f=0;f<n.labels.length;f++){r.font=t.pointLabelFontStyle+" "+t.pointLabelFontSize+"px "+t.pointLabelFontFamily;r.fillStyle=t.pointLabelFontColor;for(var v=Math.sin((90-t.startAngle)*Math.PI/180+o*f)*(w+t.pointLabelFontSize),y=Math.cos((90-t.startAngle)*Math.PI/180+o*f)*(w+t.pointLabelFontSize),e=(90-t.startAngle)*Math.PI/180+o*f;e<0;)e=e+2*Math.PI;while(e>2*Math.PI)e=e-2*Math.PI;if(r.textAlign=e==Math.PI||e==0?"center":e>Math.PI?"right":"left",r.textBaseline="middle",n.labels[f].indexOf("\n")>0)for(d=15,a=n.labels[f].split("\n"),s=0;s<a.length;s++)r.fillText(a[s],v,-y+s*d);else r.fillText(n.labels[f],v,-y)}r.restore()}function ot(){var e,u,c,o,y,a,v,k,p=2*Math.PI/n.datasets[0].data.length,i=t.startAngle*Math.PI/180,f,l;if(r.font=t.pointLabelFontStyle+" "+t.pointLabelFontSize+"px "+t.pointLabelFontFamily,t.graphMaximized)for(o=s.availableWidth/2,c=s.availableWidth/2,a=40,f=0;f<n.labels.length;f++)l=r.measureText(n.labels[f]).width+t.scaleFontSize,u=(s.availableWidth-l)/(1+Math.abs(Math.cos(i))),i<Math.PI/2&&i>-Math.PI/2||i>3*Math.PI/2?u<o&&(o=u):Math.cos(i)!=0&&u<c&&(c=u),i-=p;else o=s.availableWidth/2,c=s.availableWidth/2,a=1;for(v=0,k=0,e=o,y=0;y<a;++y,e+=(s.availableWidth-c-o)/a){for(w=h([e,s.availableWidth-e]),i=t.startAngle*Math.PI/180,u=s.available,f=0;f<n.labels.length;f++)l=r.measureText(n.labels[f]).width+t.scaleFontSize,i<Math.PI/2&&i>-Math.PI/2||i>3*Math.PI/2?u=(s.availableWidth-e-l)/Math.abs(Math.cos(i)):Math.cos(i!=0)&&(u=(e-l)/Math.abs(Math.cos(i))),u<w&&(w=u),Math.sin(i)*s.availableHeight/2>s.availableHeight/2-t.scaleFontSize*2&&(u=Math.sin(i)*s.availableHeight/2-1.5*t.scaleFontSize,u<w&&(w=u)),i-=p;w>v&&(v=w,b=e)}w=v-t.scaleFontSize/2;g=at(g,5)}function st(){for(var u,e,o,i=Number.MIN_VALUE,f=Number.MAX_VALUE,r=0;r<n.datasets.length;r++)for(u=0;u<n.datasets[r].data.length;u++)1*n.datasets[r].data[u]>i&&(i=1*n.datasets[r].data[u]),1*n.datasets[r].data[u]<f&&(f=1*n.datasets[r].data[u]);return Math.abs(i-f)<1e-8&&(i=h([i*2,1]),f=0),isNaN(t.graphMin)||(f=t.graphMin),isNaN(t.graphMax)||(i=t.graphMax),e=Math.floor(tt/(g*.66)),o=Math.floor(tt/g*.5),{maxValue:i,minValue:f,maxSteps:e,minSteps:o}}var w,p,u,g,tt,d,nt,s,b,k,it,rt,ut;if(typeof r.ChartNewId=="undefined"&&(it=new Date,rt=it.getTime(),r.ChartNewId="Radar_"+rt),dynamicFunction(n,t,r,"Radar")){while(t.startAngle<0)t.startAngle+=360;while(t.startAngle>360)t.startAngle-=360;t.logarithmic=!1;ut=0;jsGraphAnnotate[r.ChartNewId]=[];a(r,n,t,"Radar");n.labels||(n.labels=[]);l(r,t);d=st();nt=t.scaleShowLabels?t.scaleLabel:"";t.scaleOverride?(u={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,graphMax:t.scaleStartValue+t.scaleSteps*t.scaleStepWidth,labels:[]},y(t,nt,u.labels,u.steps,t.scaleStartValue,u.graphMax,t.scaleStepWidth),s=o(n,t,r,e,f,u.labels,!0,!1,!1,!0,t.datasetFill)):(u=v(t,d.maxSteps,d.minSteps,d.maxValue,d.minValue,nt),s=o(n,t,r,e,f,u.labels,!0,!1,!1,!0,t.datasetFill));ot();k=s.topNotUsableSize+s.availableHeight/2;p=w/u.steps;c(t,et,ft,r,s.clrx,s.clry,s.clrwidth,s.clrheight,b,k,b-w,k+w,n)}},ft=function(n,t,i){function d(r){for(var e=-t.startAngle*(Math.PI/180)+2*Math.PI,c=0,l=1,a=1,o=t.startAngle*(Math.PI/180)+2*Math.PI,u,f,y;e<0;)e+=2*Math.PI;while(e>2*Math.PI)e-=2*Math.PI;while(o<0)o+=2*Math.PI;while(o>2*Math.PI)o-=2*Math.PI;if(t.animation&&(t.animateScale&&(l=r),t.animateRotate&&(a=r)),r>=1)for(totvalue=0,u=0;u<n.length;u++)typeof n[u].value=="undefined"||(totvalue+=1*n[u].value);for(u=0;u<n.length;u++)typeof n[u].value=="undefined"||(f=a*1*n[u].value/p*Math.PI*2,f>=Math.PI*2&&(f=Math.PI*2-.001),i.beginPath(),i.arc(h,v,l*s,e,e+f),i.lineTo(h,v),i.closePath(),i.fillStyle=n[u].color,i.fill(),e+=f,c+=1*n[u].value,t.segmentShowStroke&&(i.lineWidth=t.segmentStrokeWidth,i.strokeStyle=t.segmentStrokeColor,i.stroke()),r>=1&&(lgtxt=typeof n[u].title=="string"?n[u].title.trim():"",jsGraphAnnotate[i.ChartNewId][k++]=["ARC",h,v,0,s,e-f,e,lgtxt,1*n[u].value,c,totvalue,f,u],t.inGraphDataShow&&(t.inGraphDataAnglePosition==1?posAngle=o+t.inGraphDataPaddingAngle*(Math.PI/180):t.inGraphDataAnglePosition==2?posAngle=o-f/2+t.inGraphDataPaddingAngle*(Math.PI/180):t.inGraphDataAnglePosition==3&&(posAngle=o-f+t.inGraphDataPaddingAngle*(Math.PI/180)),t.inGraphDataRadiusPosition==1?labelRadius=0+t.inGraphDataPaddingRadius:t.inGraphDataRadiusPosition==2?labelRadius=s/2+t.inGraphDataPaddingRadius:t.inGraphDataRadiusPosition==3&&(labelRadius=s+t.inGraphDataPaddingRadius),o-=f,i.save(),i.textAlign=t.inGraphDataAlign=="off-center"?t.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":t.inGraphDataAlign=="to-center"?t.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":t.inGraphDataAlign,i.textBaseline=t.inGraphDataVAlign=="off-center"?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":t.inGraphDataVAlign=="to-center"?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":t.inGraphDataVAlign,i.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily,i.fillStyle=t.inGraphDataFontColor,y=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,lgtxt,t.fmtV1),v2:fmtChartJS(t,1*n[u].value,t.fmtV2),v3:fmtChartJS(t,c,t.fmtV3),v4:fmtChartJS(t,totvalue,t.fmtV4),v5:fmtChartJS(t,f,t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*n[u].value/totvalue,t.fmtV6),t.roundPct),v7:fmtChartJS(t,h,t.fmtV7),v8:fmtChartJS(t,v,t.fmtV8),v9:fmtChartJS(t,0,t.fmtV9),v10:fmtChartJS(t,s,t.fmtV10),v11:fmtChartJS(t,e-f,t.fmtV11),v12:fmtChartJS(t,e,t.fmtV12),v13:fmtChartJS(t,u,t.fmtV13)}),i.translate(h+labelRadius*Math.cos(posAngle),v-labelRadius*Math.sin(posAngle)),t.inGraphDataRotate=="inRadiusAxis"?i.rotate(2*Math.PI-posAngle):t.inGraphDataRotate=="inRadiusAxisRotateLabels"?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?i.rotate(3*Math.PI-posAngle):i.rotate(2*Math.PI-posAngle):i.rotate(t.inGraphDataRotate*(Math.PI/180)),i.fillText(y,0,0),i.restore())))}function g(){for(var w,o=-t.startAngle*(Math.PI/180)+2*Math.PI,y=0,e,l,a,f,c;o<0;)o+=2*Math.PI;while(o>2*Math.PI)o-=2*Math.PI;if(h=r.leftNotUsableSize+r.availableWidth/2,v=r.topNotUsableSize+r.availableHeight/2,s=u([r.availableHeight/2,r.availableWidth/2])-5,i.font=t.pointLabelFontStyle+" "+t.pointLabelFontSize+"px "+t.pointLabelFontFamily,t.inGraphDataShow&&t.inGraphDataRadiusPosition==3&&t.inGraphDataAlign=="off-center"&&t.inGraphDataRotate==0){for(s=u([r.availableHeight/2,r.availableWidth/2])-t.inGraphDataFontSize-t.inGraphDataPaddingRadius-5,e=t.startAngle*(Math.PI/180)+2*Math.PI;e<0;)e+=2*Math.PI;while(e>2*Math.PI)e-=2*Math.PI;for(l=0,f=0;f<n.length;f++)typeof n[f].value=="undefined"||(l+=1*n[f].value);for(i.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily,y=0,f=0;f<n.length;f++)if(!(typeof n[f].value=="undefined")){y+=1*n[f].value;c=1*n[f].value/p*Math.PI*2;o+=c;t.inGraphDataAnglePosition==1?a=e+t.inGraphDataPaddingAngle*(Math.PI/180):t.inGraphDataAnglePosition==2?a=e-c/2+t.inGraphDataPaddingAngle*(Math.PI/180):t.inGraphDataAnglePosition==3&&(a=e-c+t.inGraphDataPaddingAngle*(Math.PI/180));e-=c;w=typeof n[f].title=="string"?n[f].title.trim():"";var k=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,w,t.fmtV1),v2:fmtChartJS(t,1*n[f].value,t.fmtV2),v3:fmtChartJS(t,y,t.fmtV3),v4:fmtChartJS(t,l,t.fmtV4),v5:fmtChartJS(t,c,t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*n[f].value/l,t.fmtV6),t.roundPct),v7:fmtChartJS(t,h,t.fmtV7),v8:fmtChartJS(t,v,t.fmtV8),v9:fmtChartJS(t,0,t.fmtV9),v10:fmtChartJS(t,s,t.fmtV10),v11:fmtChartJS(t,o-c,t.fmtV11),v12:fmtChartJS(t,o,t.fmtV12),v13:fmtChartJS(t,f,t.fmtV13)}),d=i.measureText(k).width,b=Math.abs((r.availableWidth/2-d)/Math.cos(a))-t.inGraphDataPaddingRadius-5;b<s&&(s=b)}}s=s*t.radiusScale}var p=0,r,h,v,s,w,b,k,y;if(typeof i.ChartNewId=="undefined"&&(w=new Date,b=w.getTime(),i.ChartNewId="Pie_"+b),dynamicFunction(n,t,i,"Pie")){while(t.startAngle<0)t.startAngle+=360;while(t.startAngle>360)t.startAngle-=360;for(t.logarithmic=!1,k=0,jsGraphAnnotate[i.ChartNewId]=[],a(i,n,t,"Pie"),l(i,t),r=o(n,t,i,e,f,null,!0,!1,!1,!1,!0),y=0;y<n.length;y++)typeof n[y].value=="undefined"||(p+=1*n[y].value);g();c(t,null,d,i,r.clrx,r.clry,r.clrwidth,r.clrheight,h,v,h-s,v+s,n)}},et=function(n,t,i){function nt(u){for(var e=-t.startAngle*(Math.PI/180)+2*Math.PI,s=0,c=1,l=1,f,o,a;e<0;)e+=2*Math.PI;while(e>2*Math.PI)e-=2*Math.PI;if(t.animation&&(t.animateScale&&(c=u),t.animateRotate&&(l=u)),u>=1)for(totvalue=0,f=0;f<n.length;f++)typeof n[f].value=="undefined"||(totvalue+=1*n[f].value);for(f=0;f<n.length;f++)typeof n[f].value=="undefined"||(o=l*1*n[f].value/b*Math.PI*2,o>=Math.PI*2&&(o=Math.PI*2-.001),i.beginPath(),i.arc(h,v,c*r,e,e+o,!1),i.arc(h,v,c*p,e+o,e,!0),i.closePath(),i.fillStyle=n[f].color,i.fill(),e+=o,s+=1*n[f].value,t.segmentShowStroke&&(i.lineWidth=t.segmentStrokeWidth,i.strokeStyle=t.segmentStrokeColor,i.stroke()),u>=1&&(lgtxt=typeof n[f].title=="string"?n[f].title.trim():"",jsGraphAnnotate[i.ChartNewId][g++]=["ARC",h,v,p,r,e-o,e,lgtxt,1*n[f].value,s,totvalue,o,f],t.inGraphDataShow&&(t.inGraphDataAnglePosition==1?posAngle=y+t.inGraphDataPaddingAngle*(Math.PI/180):t.inGraphDataAnglePosition==2?posAngle=y-o/2+t.inGraphDataPaddingAngle*(Math.PI/180):t.inGraphDataAnglePosition==3&&(posAngle=y-o+t.inGraphDataPaddingAngle*(Math.PI/180)),t.inGraphDataRadiusPosition==1?labelRadius=p+t.inGraphDataPaddingRadius:t.inGraphDataRadiusPosition==2?labelRadius=p+(r-p)/2+t.inGraphDataPaddingRadius:t.inGraphDataRadiusPosition==3&&(labelRadius=r+t.inGraphDataPaddingRadius),y-=o,i.save(),i.textAlign=t.inGraphDataAlign=="off-center"?t.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"left":"right":t.inGraphDataAlign=="to-center"?t.inGraphDataRotate=="inRadiusAxis"||(posAngle+2*Math.PI)%(2*Math.PI)>3*Math.PI/2||(posAngle+2*Math.PI)%(2*Math.PI)<Math.PI/2?"right":"left":t.inGraphDataAlign,i.textBaseline=t.inGraphDataVAlign=="off-center"?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"top":"bottom":t.inGraphDataVAlign=="to-center"?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI?"bottom":"top":t.inGraphDataVAlign,i.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily,i.fillStyle=t.inGraphDataFontColor,a=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,lgtxt,t.fmtV1),v2:fmtChartJS(t,1*n[f].value,t.fmtV2),v3:fmtChartJS(t,s,t.fmtV3),v4:fmtChartJS(t,totvalue,t.fmtV4),v5:fmtChartJS(t,o,t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*n[f].value/totvalue,t.fmtV6),t.roundPct),v7:fmtChartJS(t,h,t.fmtV7),v8:fmtChartJS(t,v,t.fmtV8),v9:fmtChartJS(t,p,t.fmtV9),v10:fmtChartJS(t,r,t.fmtV10),v11:fmtChartJS(t,e-o,t.fmtV11),v12:fmtChartJS(t,e,t.fmtV12),v13:fmtChartJS(t,f,t.fmtV13)}),i.translate(h+labelRadius*Math.cos(posAngle),v-labelRadius*Math.sin(posAngle)),t.inGraphDataRotate=="inRadiusAxis"?i.rotate(2*Math.PI-posAngle):t.inGraphDataRotate=="inRadiusAxisRotateLabels"?(posAngle+2*Math.PI)%(2*Math.PI)>Math.PI/2&&(posAngle+2*Math.PI)%(2*Math.PI)<3*Math.PI/2?i.rotate(3*Math.PI-posAngle):i.rotate(2*Math.PI-posAngle):i.rotate(t.inGraphDataRotate*(Math.PI/180)),i.fillText(a,0,0),i.restore())))}function tt(){for(var y,o=-t.startAngle*(Math.PI/180)+2*Math.PI,w=0,e,l,a,f,c;o<0;)o+=2*Math.PI;while(o>2*Math.PI)o-=2*Math.PI;if(h=s.leftNotUsableSize+s.availableWidth/2,v=s.topNotUsableSize+s.availableHeight/2,r=u([s.availableHeight/2,s.availableWidth/2])-5,i.font=t.pointLabelFontStyle+" "+t.pointLabelFontSize+"px "+t.pointLabelFontFamily,t.inGraphDataShow&&t.inGraphDataRadiusPosition==3&&t.inGraphDataAlign=="off-center"&&t.inGraphDataRotate==0){for(r=u([s.availableHeight/2,s.availableWidth/2])-t.inGraphDataFontSize-t.inGraphDataPaddingRadius-5,e=t.startAngle*(Math.PI/180)+2*Math.PI;e<0;)e+=2*Math.PI;while(e>2*Math.PI)e-=2*Math.PI;for(l=0,f=0;f<n.length;f++)typeof n[f].value=="undefined"||(l+=1*n[f].value);for(i.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily,o=0,f=0;f<n.length;f++)if(!(typeof n[f].value=="undefined")){w+=1*n[f].value;c=1*n[f].value/b*Math.PI*2;o+=c;t.inGraphDataAnglePosition==1?a=e+t.inGraphDataPaddingAngle*(Math.PI/180):t.inGraphDataAnglePosition==2?a=e-c/2+t.inGraphDataPaddingAngle*(Math.PI/180):t.inGraphDataAnglePosition==3&&(a=e-c+t.inGraphDataPaddingAngle*(Math.PI/180));e-=c;y=typeof n[f].title=="string"?n[f].title.trim():"";var d=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,y,t.fmtV1),v2:fmtChartJS(t,1*n[f].value,t.fmtV2),v3:fmtChartJS(t,w,t.fmtV3),v4:fmtChartJS(t,l,t.fmtV4),v5:fmtChartJS(t,c,t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*n[f].value/l,t.fmtV6),t.roundPct),v7:fmtChartJS(t,h,t.fmtV7),v8:fmtChartJS(t,v,t.fmtV8),v9:fmtChartJS(t,p,t.fmtV9),v10:fmtChartJS(t,r,t.fmtV10),v11:fmtChartJS(t,o-c,t.fmtV11),v12:fmtChartJS(t,o,t.fmtV12),v13:fmtChartJS(t,f,t.fmtV13)}),g=i.measureText(d).width,k=Math.abs((s.availableWidth/2-g)/Math.cos(a))-t.inGraphDataPaddingRadius-5;k<r&&(r=k)}}r=r*t.radiusScale}var b=0,s,h,v,r,k,d,y,g,p,w;if(typeof i.ChartNewId=="undefined"&&(k=new Date,d=k.getTime(),i.ChartNewId="Doughnut_"+d),dynamicFunction(n,t,i,"Doughnut")){for(y=t.startAngle*(Math.PI/180)+2*Math.PI;t.startAngle<0;)t.startAngle+=360;while(t.startAngle>360)t.startAngle-=360;while(y<0)y+=2*Math.PI;while(y>2*Math.PI)y-=2*Math.PI;for(t.logarithmic=!1,g=0,jsGraphAnnotate[i.ChartNewId]=[],a(i,n,t,"Doughnut"),l(i,t),s=o(n,t,i,e,f,null,!0,!1,!1,!1,!0),tt(),p=r*(t.percentageInnerCutout/100),w=0;w<n.length;w++)typeof n[w].value=="undefined"||(b+=1*n[w].value);c(t,null,nt,i,s.clrx,s.clry,s.clrwidth,s.clrheight,h,v,h-r,v+r,n)}},ot=function(n,t,r){function ct(u){function s(r,f){return w-u*i(t,n.datasets[r].data[f],b,d)}function o(n){return p+k*n}for(var l,y,f,c,a=[],v=[],e=0;e<n.datasets.length;e++)for(f=0;f<n.datasets[e].data.length;f++)a[f]=0,v[f]=-999999999;for(e=0;e<n.datasets.length;e++)for(f=0;f<n.datasets[e].data.length;f++)a[f]+=n.datasets[e].data[f],v[f]=h([v[f],n.datasets[e].data[f]]);for(e=0;e<n.datasets.length;e++){for(l=-1,y=-1,u>=1&&(lgtxt=typeof n.datasets[e].title=="string"?n.datasets[e].title.trim():""),r.strokeStyle=n.datasets[e].strokeColor,r.lineWidth=t.datasetStrokeWidth,r.beginPath(),f=0;f<n.datasets[e].data.length;f++)if(!(typeof n.datasets[e].data[f]=="undefined")&&(l==-1?(r.moveTo(o(f),s(e,f)),y=f):t.bezierCurve?r.bezierCurveTo(o(f-(f-l)/2),s(e,l),o(f-(f-l)/2),s(e,f),o(f),s(e,f)):r.lineTo(o(f),s(e,f)),l=f,u>=1&&(divprev=e==0?n.datasets[e].data[f]:n.datasets[e].data[f]-n.datasets[e-1].data[f],divnext=e==n.datasets.length-1?n.datasets[e].data[f]:n.datasets[e].data[f]-n.datasets[e+1].data[f],lgtxt2=typeof n.labels[f]=="string"?n.labels[f].trim():"",jsGraphAnnotate[r.ChartNewId][ht++]=["POINT",o(f),s(e,f),lgtxt,lgtxt2,1*n.datasets[e].data[f],divprev,divnext,v[f],a[f],e,f],t.inGraphDataShow))){r.save();r.textAlign=t.inGraphDataAlign;r.textBaseline=t.inGraphDataVAlign;r.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily;r.fillStyle=t.inGraphDataFontColor;var rt=p+k*c,ut=w-u*i(t,n.datasets[e].data[f],b,d),g=t.inGraphDataPaddingX,nt=t.inGraphDataPaddingY,tt=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,lgtxt,t.fmtV1),v2:fmtChartJS(t,lgtxt2,t.fmtV2),v3:fmtChartJS(t,1*n.datasets[e].data[f],t.fmtV3),v4:fmtChartJS(t,divprev,t.fmtV4),v5:fmtChartJS(t,divnext,t.fmtV5),v6:fmtChartJS(t,v[f],t.fmtV6),v7:fmtChartJS(t,a[f],t.fmtV7),v8:roundToWithThousands(t,fmtChartJS(t,100*n.datasets[e].data[f]/a[f],t.fmtV8),t.roundPct),v9:fmtChartJS(t,p,t.fmtV9),v10:fmtChartJS(t,w-i(t,n.datasets[e].data[f],b,d),t.fmtV10),v11:fmtChartJS(t,e,t.fmtV11),v12:fmtChartJS(t,f,t.fmtV12)});r.translate(o(f)+g,s(e,f)-nt);r.rotate(t.inGraphDataRotate*(Math.PI/180));r.fillText(tt,0,0);r.restore()}if(r.stroke(),t.datasetFill?(r.lineTo(p+k*(n.datasets[e].data.length-1),w-it),r.lineTo(o(y),w-it),r.lineTo(o(y),s(e,y)),r.closePath(),r.fillStyle=n.datasets[e].fillColor,r.fill()):r.closePath(),t.pointDot)for(r.fillStyle=n.datasets[e].pointColor,r.strokeStyle=n.datasets[e].pointStrokeColor,r.lineWidth=t.pointDotStrokeWidth,c=0;c<n.datasets[e].data.length;c++)typeof n.datasets[e].data[c]=="undefined"||(r.beginPath(),r.arc(p+k*c,w-u*i(t,n.datasets[e].data[c],b,d),t.pointDotRadius,0,Math.PI*2,!0),r.fill(),r.stroke())}}function lt(){var i,f;for(r.lineWidth=t.scaleLineWidth,r.strokeStyle=t.scaleLineColor,r.beginPath(),r.moveTo(p-t.scaleTickSizeLeft,w),r.lineTo(p+u.availableWidth+t.scaleTickSizeRight,w),r.stroke(),i=0;i<n.labels.length;i++)r.beginPath(),r.moveTo(p+i*k,w+t.scaleTickSizeBottom),r.lineWidth=t.scaleGridLineWidth,r.strokeStyle=t.scaleGridLineColor,t.scaleShowGridLines&&i>0&&i%t.scaleXGridLinesStep==0?r.lineTo(p+i*k,w-u.availableHeight-t.scaleTickSizeTop):r.lineTo(p+i*k,w),r.stroke();for(r.lineWidth=t.scaleLineWidth,r.strokeStyle=t.scaleLineColor,r.beginPath(),r.moveTo(p,w+t.scaleTickSizeBottom),r.lineTo(p,w-u.availableHeight-t.scaleTickSizeTop),r.stroke(),f=0;f<b.steps;f++)r.beginPath(),r.moveTo(p-t.scaleTickSizeLeft,w-(f+1)*d),r.lineWidth=t.scaleGridLineWidth,r.strokeStyle=t.scaleGridLineColor,t.scaleShowGridLines&&f%t.scaleYGridLinesStep==0?r.lineTo(p+u.availableWidth+t.scaleTickSizeRight,w-(f+1)*d):r.lineTo(p,w-(f+1)*d),r.stroke()}function at(){var i,f;if(r.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,(t.xAxisTop||t.xAxisBottom)&&(r.textBaseline="top",u.rotateLabels>90?(r.save(),r.textAlign="left"):u.rotateLabels>0?(r.save(),r.textAlign="right"):r.textAlign="center",r.fillStyle=t.scaleFontColor,t.xAxisBottom))for(i=0;i<n.labels.length;i++)r.save(),u.rotateLabels>0?(r.translate(p+i*k-t.scaleFontSize/2,u.xLabelPos),r.rotate(-(u.rotateLabels*(Math.PI/180))),r.fillText(fmtChartJS(t,n.labels[i],t.fmtXLabel),0,0)):r.fillText(fmtChartJS(t,n.labels[i],t.fmtXLabel),p+i*k,u.xLabelPos),r.restore();for(r.textAlign="right",r.textBaseline="middle",f=t.showYAxisMin?-1:0;f<b.steps;f++)t.scaleShowLabels&&(t.yAxisLeft&&(r.textAlign="right",r.fillText(b.labels[f+1],p-(t.scaleTickSizeLeft+t.yAxisSpaceRight),w-(f+1)*d)),t.yAxisRight&&(r.textAlign="left",r.fillText(b.labels[f+1],p+u.availableWidth+(t.scaleTickSizeRight+t.yAxisSpaceRight),w-(f+1)*d)))}function vt(){for(var u,e,o,i=Number.MIN_VALUE,f=Number.MAX_VALUE,r=0;r<n.datasets.length;r++)for(u=0;u<n.datasets[r].data.length;u++)1*n.datasets[r].data[u]>i&&(i=1*n.datasets[r].data[u]),1*n.datasets[r].data[u]<f&&(f=1*n.datasets[r].data[u]);return Math.abs(i-f)<1e-8&&(i=h([i*2,1]),f=0),isNaN(t.graphMin)||(f=t.graphMin),isNaN(t.graphMax)||(i=t.graphMax),e=Math.floor(ft/(ut*.66)),o=Math.floor(ft/ut*.5),{maxValue:i,minValue:f,maxSteps:e,minSteps:o}}var d,b,ut,ft,nt,rt,k,p,w,u,ht=0,et,ot,tt,g,st,it;for(typeof r.ChartNewId=="undefined"&&(et=new Date,ot=et.getTime(),r.ChartNewId="Line_"+ot),tt=0,g=0;g<n.datasets.length;g++)tt=h([tt,n.datasets[g].data.length]);if(tt==1)for(typeof n.labels[0]=="string"&&(n.labels=["",n.labels[0],""]),g=0;g<n.datasets.length;g++)typeof(n.datasets[g].data[0]!="undefined")&&(n.datasets[g].data=[undefined,n.datasets[g].data[0],undefined]);dynamicFunction(n,t,r,"Line")&&(jsGraphAnnotate[r.ChartNewId]=[],a(r,n,t,"Line"),l(r,t),nt=vt(),t.logarithmic!==!1&&nt.minValue<=0&&(t.logarithmic=!1),st=s(Math.pow(10,s(nt.maxValue)+1))-s(Math.pow(10,s(nt.minValue))),(t.logarithmic=="fuzzy"&&st<4||t.scaleOverride)&&(t.logarithmic=!1),rt=t.scaleShowLabels?t.scaleLabel:"",t.scaleOverride?(b={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,graphMax:t.scaleStartValue+t.scaleSteps*t.scaleStepWidth,labels:[]},y(t,rt,b.labels,b.steps,t.scaleStartValue,b.graphMax,t.scaleStepWidth),u=o(n,t,r,e,f,b.labels,!1,!1,!0,!0,t.datasetFill)):(b=v(t,nt.maxSteps,nt.minSteps,nt.maxValue,nt.minValue,rt),u=o(n,t,r,e,f,b.labels,!1,!1,!0,!0,t.datasetFill)),u.availableHeight=u.availableHeight-t.scaleTickSizeBottom-t.scaleTickSizeTop,u.availableWidth=u.availableWidth-t.scaleTickSizeLeft-t.scaleTickSizeRight,d=Math.floor(u.availableHeight/b.steps),k=Math.floor(u.availableWidth/(n.labels.length-1)),k==0&&(k=u.availableWidth/(n.labels.length-1)),u.clrwidth=u.clrwidth-(u.availableWidth-(n.labels.length-1)*k),u.availableWidth=(n.labels.length-1)*k,u.availableHeight=b.steps*d,p=u.leftNotUsableSize+t.scaleTickSizeLeft,w=u.topNotUsableSize+u.availableHeight+t.scaleTickSizeTop,at(),it=0,nt.minValue<0&&(it=i(t,0,b,d)),c(t,lt,ct,r,u.clrx,u.clry,u.clrwidth,u.clrheight,p+u.availableWidth/2,w-u.availableHeight/2,p,w,n))},st=function(n,t,r){function ht(f){var a,v,o,e,k,c;r.lineWidth=t.barStrokeWidth;var s=new Array(n.datasets.length),h=new Array(n.datasets.length),l=[],w=[];for(o=0;o<n.datasets.length;o++)for(e=0;e<n.datasets[o].data.length;e++)l[e]=0,w[e]=0;for(o=0;o<n.datasets.length;o++)for(e=0;e<n.datasets[o].data.length;e++)typeof n.datasets[o].data[e]=="undefined"||(w[e]+=1*n.datasets[o].data[e]);for(o=0;o<n.datasets.length;o++)for(f>=1&&(lgtxt=typeof n.datasets[o].title=="string"?n.datasets[o].title.trim():""),e=0;e<n.datasets[o].data.length;e++)typeof n.datasets[o].fillColor=="string"?r.fillStyle=n.datasets[o].fillColor:typeof n.datasets[o].fillColor[0]=="string"&&(r.fillStyle=n.datasets[o].fillColor[u([n.datasets[o].fillColor.length,e])]),typeof n.datasets[o].strokeColor=="string"?r.strokeStyle=n.datasets[o].strokeColor:typeof n.datasets[o].strokeColor[0]=="string"&&(r.strokeStyle=n.datasets[o].strokeColor[u([n.datasets[o].strokeColor.length,e])]),o==0&&(s[e]=0,h[e]=-1),typeof n.datasets[o].data[e]=="undefined"||(c=b+t.barValueSpacing+g*e,r.beginPath(),r.moveTo(c,p-s[e]+1),r.lineTo(c,p-f*i(t,(h[e]>=0)*y.graphMin+1*n.datasets[o].data[e],y,d)+t.barStrokeWidth/2-s[e]),r.lineTo(c+nt,p-f*i(t,(h[e]>=0)*y.graphMin+1*n.datasets[o].data[e],y,d)+t.barStrokeWidth/2-s[e]),r.lineTo(c+nt,p-s[e]+1),t.barShowStroke&&r.stroke(),r.closePath(),r.fill(),l[e]+=1*n.datasets[o].data[e],f>=1&&(lgtxt2=typeof n.labels[e]=="string"?n.labels[e].trim():"",jsGraphAnnotate[r.ChartNewId][st++]=["RECT",c,p-s[e]+1,c+nt,p-i(t,(h[e]>=0)*y.graphMin+1*n.datasets[o].data[e],y,d)+t.barStrokeWidth/2-s[e],lgtxt,lgtxt2,1*n.datasets[o].data[e],l[e],w[e],o,e]),s[e]+=f*i(t,(h[e]>=0)*y.graphMin+1*n.datasets[o].data[e],y,d)-t.barStrokeWidth/2,h[e]==-1&&(h[e]=o));if(f>=1&&t.inGraphDataShow){for(a=0,v=0,o=0;o<n.datasets.length;o++)for(e=0;e<n.datasets[o].data.length;e++)l[e]=0;for(o=0;o<n.datasets.length;o++)for(lgtxt=typeof n.datasets[o].title=="string"?n.datasets[o].title.trim():"",e=0;e<n.datasets[o].data.length;e++)o==0&&(s[e]=0,h[e]=-1),typeof n.datasets[o].data[e]=="undefined"||(r.save(),r.textAlign=t.inGraphDataAlign,r.textBaseline=t.inGraphDataVAlign,r.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily,r.fillStyle=t.inGraphDataFontColor,lgtxt2=typeof n.labels[e]=="string"?n.labels[e].trim():"",k=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,lgtxt,t.fmtV1),v2:fmtChartJS(t,lgtxt2,t.fmtV2),v3:fmtChartJS(t,1*n.datasets[o].data[e],t.fmtV3),v4:fmtChartJS(t,l[e],t.fmtV4),v5:fmtChartJS(t,w[e],t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*n.datasets[o].data[e]/w[e],t.fmtV6),t.roundPct),v7:fmtChartJS(t,c,t.fmtV7),v8:fmtChartJS(t,p,t.fmtV8),v9:fmtChartJS(t,c+nt,t.fmtV9),v10:fmtChartJS(t,p-i(t,n.datasets[o].data[e],y,d)+t.barStrokeWidth/2,t.fmtV10),v11:fmtChartJS(t,o,t.fmtV11),v12:fmtChartJS(t,e,t.fmtV12)}),c=b+t.barValueSpacing+g*e,r.beginPath(),r.beginPath(),a=0,v=0,t.inGraphDataXPosition==1?v=c+t.inGraphDataPaddingX:t.inGraphDataXPosition==2?v=c+nt/2+t.inGraphDataPaddingX:t.inGraphDataXPosition==3&&(v=c+nt+t.inGraphDataPaddingX),t.inGraphDataYPosition==1?a=p-s[e]-t.inGraphDataPaddingY:t.inGraphDataYPosition==2?a=p-(i(t,(h[e]>=0)*y.graphMin+1*n.datasets[o].data[e],y,d)+t.barStrokeWidth/2)/2-s[e]-t.inGraphDataPaddingY:t.inGraphDataYPosition==3&&(a=p-i(t,(h[e]>=0)*y.graphMin+1*n.datasets[o].data[e],y,d)+t.barStrokeWidth/2-s[e]-t.inGraphDataPaddingY),r.translate(v,a),r.rotate(t.inGraphDataRotate*(Math.PI/180)),r.fillText(k,0,0),r.restore(),l[e]+=1+n.datasets[o].data[e],s[e]+=f*i(t,(h[e]>=0)*y.graphMin+1*n.datasets[o].data[e],y,d)-t.barStrokeWidth/2,h[e]==-1&&(h[e]=o))}}function ct(){var i,u;for(r.lineWidth=t.scaleLineWidth,r.strokeStyle=t.scaleLineColor,r.beginPath(),r.moveTo(b-t.scaleTickSizeLeft,p),r.lineTo(b+s.availableWidth+t.scaleTickSizeRight,p),r.stroke(),i=0;i<n.labels.length;i++)r.beginPath(),r.moveTo(b+i*g,p+t.scaleTickSizeBottom),r.lineWidth=t.scaleGridLineWidth,r.strokeStyle=t.scaleGridLineColor,t.scaleShowGridLines&&i>0&&i%t.scaleXGridLinesStep==0?r.lineTo(b+i*g,p-s.availableHeight-t.scaleTickSizeTop):r.lineTo(b+i*g,p),r.stroke();for(r.lineWidth=t.scaleLineWidth,r.strokeStyle=t.scaleLineColor,r.beginPath(),r.moveTo(b,p+t.scaleTickSizeBottom),r.lineTo(b,p-s.availableHeight-t.scaleTickSizeTop),r.stroke(),u=t.showYAxisMin?-1:0;u<y.steps;u++)r.beginPath(),r.moveTo(b-t.scaleTickSizeLeft,p-(u+1)*d),r.lineWidth=t.scaleGridLineWidth,r.strokeStyle=t.scaleGridLineColor,t.scaleShowGridLines&&u%t.scaleYGridLinesStep==0?r.lineTo(b+s.availableWidth+t.scaleTickSizeRight,p-(u+1)*d):r.lineTo(b,p-(u+1)*d),r.stroke()}function lt(){var i,u;if(r.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,(t.xAxisTop||t.xAxisBottom)&&(r.textBaseline="top",s.rotateLabels>90?(r.save(),r.textAlign="left"):s.rotateLabels>0?(r.save(),r.textAlign="right"):r.textAlign="center",r.fillStyle=t.scaleFontColor,t.xAxisBottom))for(i=0;i<n.labels.length;i++)r.save(),s.rotateLabels>0?(r.translate(b+i*g+nt/2-t.scaleFontSize/2,s.xLabelPos),r.rotate(-(s.rotateLabels*(Math.PI/180))),r.fillText(fmtChartJS(t,n.labels[i],t.fmtXLabel),0,0)):r.fillText(fmtChartJS(t,n.labels[i],t.fmtXLabel),b+i*g+nt/2,s.xLabelPos),r.restore();for(r.textAlign="right",r.textBaseline="middle",u=t.showYAxisMin?-1:0;u<y.steps;u++)t.scaleShowLabels&&(t.yAxisLeft&&(r.textAlign="right",r.fillText(y.labels[u+1],b-(t.scaleTickSizeLeft+t.yAxisSpaceRight),p-(u+1)*d)),t.yAxisRight&&(r.textAlign="left",r.fillText(y.labels[u+1],b+s.availableWidth+(t.scaleTickSizeRight+t.yAxisSpaceRight),p-(u+1)*d)))}function at(){for(var f,e,i,s,c,r=Number.MIN_VALUE,u=Number.MAX_VALUE,l=new Array(n.datasets.length),a=new Array(n.datasets.length),o=0;o<n.datasets.length;o++)for(f=0;f<n.datasets[o].data.length;f++)for(e=o,i=0,typeof n.datasets[0].data[f]=="undefined"||(i+=1*n.datasets[0].data[f],i>r&&(r=i),i<u&&(u=i));e>0;)typeof n.datasets[e].data[f]=="undefined"||(i+=1*n.datasets[e].data[f],i>r&&(r=i),i<u&&(u=i)),e--;return isNaN(t.graphMin)||(u=t.graphMin),isNaN(t.graphMax)||(r=t.graphMax),Math.abs(r-u)<1e-8&&(r=h([r*2,1]),u=0),s=Math.floor(ft/(ut*.66)),c=Math.floor(ft/ut*.5),{maxValue:r,minValue:u,maxSteps:s,minSteps:c}}var d,y,ut,ft,tt,it,g,b,p,nt,s,et,ot,st,rt;if(typeof r.ChartNewId=="undefined"&&(et=new Date,ot=et.getTime(),r.ChartNewId="StackedBar_"+ot),dynamicFunction(n,t,r,"StackedBar")){if(t.logarithmic=!1,st=0,jsGraphAnnotate[r.ChartNewId]=[],a(r,n,t,"StackedBar"),l(r,t),tt=at(),it=t.scaleShowLabels?t.scaleLabel:"",t.scaleOverride){for(y={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,labels:[]},rt=0;rt<y.steps;rt++)it&&y.labels.push(w(it,{value:fmtChartJS(t,1*(t.scaleStartValue+t.scaleStepWidth*(rt+1)).toFixed(k(t.scaleStepWidth)),t.fmtYLabel)}));s=o(n,t,r,e,f,y.labels,!0,!1,!0,!0,!0)}else y=v(t,tt.maxSteps,tt.minSteps,tt.maxValue,tt.minValue,it),s=o(n,t,r,e,f,y.labels,!0,!1,!0,!0,!0);s.availableHeight=s.availableHeight-t.scaleTickSizeBottom-t.scaleTickSizeTop;s.availableWidth=s.availableWidth-t.scaleTickSizeLeft-t.scaleTickSizeRight;d=Math.floor(s.availableHeight/y.steps);g=Math.floor(s.availableWidth/n.labels.length);g==0&&(g=s.availableWidth/(n.labels.length-1));s.clrwidth=s.clrwidth-(s.availableWidth-n.labels.length*g);s.availableWidth=n.labels.length*g;s.availableHeight=y.steps*d;b=s.leftNotUsableSize+t.scaleTickSizeLeft;p=s.topNotUsableSize+s.availableHeight+t.scaleTickSizeTop;nt=g-t.scaleGridLineWidth*2-t.barValueSpacing*2-(t.barDatasetSpacing*n.datasets.length-1)-t.barStrokeWidth/2-1;lt();c(t,ct,ht,r,s.clrx,s.clry,s.clrwidth,s.clrheight,b+s.availableWidth/2,p-s.availableHeight/2,b,p,n)}},ht=function(n,t,i){function tt(n,t,i){var r=t.steps*t.stepValue,u=n-t.graphMin,f=p(u/r,1,0);return i*t.steps*f}function ct(r){var a,v,e,f,h,w;i.lineWidth=t.barStrokeWidth;var o=new Array(n.datasets.length),c=new Array(n.datasets.length),l=[],p=[];for(e=0;e<n.datasets.length;e++)for(f=0;f<n.datasets[e].data.length;f++)l[f]=0,p[f]=0;for(e=0;e<n.datasets.length;e++)for(f=0;f<n.datasets[e].data.length;f++)typeof n.datasets[e].data[f]=="undefined"||(p[f]+=1*n.datasets[e].data[f]);for(e=0;e<n.datasets.length;e++)for(r>=1&&(lgtxt=typeof n.datasets[e].title=="string"?n.datasets[e].title.trim():""),f=0;f<n.datasets[e].data.length;f++)typeof n.datasets[e].fillColor=="string"?i.fillStyle=n.datasets[e].fillColor:typeof n.datasets[e].fillColor[0]=="string"&&(i.fillStyle=n.datasets[e].fillColor[u([n.datasets[e].fillColor.length,f])]),typeof n.datasets[e].strokeColor=="string"?i.strokeStyle=n.datasets[e].strokeColor:typeof n.datasets[e].strokeColor[0]=="string"&&(i.strokeStyle=n.datasets[e].strokeColor[u([n.datasets[e].strokeColor.length,f])]),e==0&&(o[f]=0,c[f]=-1),typeof n.datasets[e].data[f]=="undefined"||(h=d+t.barValueSpacing-g*(f+1),i.beginPath(),i.moveTo(s+o[f]+1,h),i.lineTo(s+o[f]+r*tt((c[f]>=0)*y.graphMin+1*n.datasets[e].data[f],y,b)+t.barStrokeWidth/2,h),i.lineTo(s+o[f]+r*tt((c[f]>=0)*y.graphMin+1*n.datasets[e].data[f],y,b)+t.barStrokeWidth/2,h+nt),i.lineTo(s+o[f]+1,h+nt),i.lineTo(s+o[f]+1,h),t.barShowStroke&&i.stroke(),i.closePath(),i.fill(),l[f]+=1*n.datasets[e].data[f],r>=1&&(lgtxt2=typeof n.labels[f]=="string"?n.labels[f].trim():"",jsGraphAnnotate[i.ChartNewId][ht++]=["RECT",s+o[f]+1,h+nt,s+o[f]+tt((c[f]>=0)*y.graphMin+1*n.datasets[e].data[f],y,b)+t.barStrokeWidth/2,h,lgtxt,lgtxt2,1*n.datasets[e].data[f],l[f],p[f],e,f]),o[f]+=r*tt((c[f]>=0)*y.graphMin+1*n.datasets[e].data[f],y,b)+t.barStrokeWidth/2,c[f]==-1&&(c[f]=e));if(r>=1&&t.inGraphDataShow){for(a=0,v=0,e=0;e<n.datasets.length;e++)for(f=0;f<n.datasets[e].data.length;f++)l[f]=0;for(e=0;e<n.datasets.length;e++)for(lgtxt=typeof n.datasets[e].title=="string"?n.datasets[e].title.trim():"",f=0;f<n.datasets[e].data.length;f++)e==0&&(o[f]=0,c[f]=-1),typeof n.datasets[e].data[f]=="undefined"||(i.save(),i.textAlign=t.inGraphDataAlign,i.textBaseline=t.inGraphDataVAlign,i.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily,i.fillStyle=t.inGraphDataFontColor,lgtxt2=typeof n.labels[f]=="string"?n.labels[f].trim():"",h=d+t.barValueSpacing-g*(f+1),w=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,lgtxt,t.fmtV1),v2:fmtChartJS(t,lgtxt2,t.fmtV2),v3:fmtChartJS(t,1*n.datasets[e].data[f],t.fmtV3),v4:fmtChartJS(t,l[f],t.fmtV4),v5:fmtChartJS(t,p[f],t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*n.datasets[e].data[f]/p[f],t.fmtV6),t.roundPct),v7:fmtChartJS(t,s,t.fmtV7),v8:fmtChartJS(t,h+nt,t.fmtV8),v9:fmtChartJS(t,s+tt(n.datasets[e].data[f],y,b)+t.barStrokeWidth/2,t.fmtV9),v10:fmtChartJS(t,h,t.fmtV10),v11:fmtChartJS(t,e,t.fmtV11),v12:fmtChartJS(t,f,t.fmtV12)}),i.beginPath(),a=0,v=0,t.inGraphDataXPosition==1?v=s+o[f]+1+t.inGraphDataPaddingX:t.inGraphDataXPosition==2?v=s+o[f]+(tt((c[f]>=0)*y.graphMin+1*n.datasets[e].data[f],y,b)+t.barStrokeWidth/2)/2+t.inGraphDataPaddingX:t.inGraphDataXPosition==3&&(v=s+o[f]+tt((c[f]>=0)*y.graphMin+1*n.datasets[e].data[f],y,b)+t.barStrokeWidth/2+t.inGraphDataPaddingX),t.inGraphDataYPosition==1?a=h+nt-t.inGraphDataPaddingY:t.inGraphDataYPosition==2?a=h+nt/2-t.inGraphDataPaddingY:t.inGraphDataYPosition==3&&(a=h-t.inGraphDataPaddingY),i.translate(v,a),i.rotate(t.inGraphDataRotate*(Math.PI/180)),i.fillText(w,0,0),i.restore(),l[f]+=n.datasets[e].data[f],o[f]+=r*tt((c[f]>=0)*y.graphMin+1*n.datasets[e].data[f],y,b)+t.barStrokeWidth/2,c[f]==-1&&(c[f]=e))}}function lt(){var u,f;for(i.lineWidth=t.scaleLineWidth,i.strokeStyle=t.scaleLineColor,i.beginPath(),i.moveTo(s-t.scaleTickSizeLeft,d),i.lineTo(s+r.availableWidth,d),i.stroke(),u=t.showYAxisMin?-1:0;u<y.steps;u++)u>=0&&(i.beginPath(),i.moveTo(s+u*b,d+t.scaleTickSizeBottom),i.lineWidth=t.scaleGridLineWidth,i.strokeStyle=t.scaleGridLineColor,t.scaleShowGridLines&&u>0&&u%t.scaleXGridLinesStep==0?i.lineTo(s+u*b,d-r.availableHeight-t.scaleTickSizeTop):i.lineTo(s+u*b,d),i.stroke());for(i.lineWidth=t.scaleLineWidth,i.strokeStyle=t.scaleLineColor,i.beginPath(),i.moveTo(s,d+t.scaleTickSizeBottom),i.lineTo(s,d-r.availableHeight-t.scaleTickSizeTop),i.stroke(),f=0;f<n.labels.length;f++)i.beginPath(),i.moveTo(s-t.scaleTickSizeLeft,d-(f+1)*g),i.lineWidth=t.scaleGridLineWidth,i.strokeStyle=t.scaleGridLineColor,t.scaleShowGridLines&&f%t.scaleYGridLinesStep==0?i.lineTo(s+r.availableWidth,d-(f+1)*g):i.lineTo(s,d-(f+1)*g),i.stroke()}function at(){var u,f;if(i.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,(t.xAxisTop||t.xAxisBottom)&&(i.textBaseline="top",r.rotateLabels>90?(i.save(),i.textAlign="left"):r.rotateLabels>0?(i.save(),i.textAlign="right"):i.textAlign="center",i.fillStyle=t.scaleFontColor,t.xAxisBottom))for(u=t.showYAxisMin?-1:0;u<y.steps;u++)i.save(),r.rotateLabels>0?(i.translate(s+(u+1)*b-t.scaleFontSize/2,r.xLabelPos),i.rotate(-(r.rotateLabels*(Math.PI/180))),i.fillText(y.labels[u+1],0,0)):i.fillText(y.labels[u+1],s+(u+1)*b,r.xLabelPos),i.restore();for(i.textAlign="right",i.textBaseline="middle",f=0;f<n.labels.length;f++)t.scaleShowLabels&&(t.yAxisLeft&&(i.textAlign="right",i.fillText(fmtChartJS(t,n.labels[f],t.fmtXLabel),s-(t.scaleTickSizeLeft+t.yAxisSpaceRight),d-(f+1)*g+nt/2)),t.yAxisRight&&(i.textAlign="left",i.fillText(fmtChartJS(t,n.labels[f],t.fmtXLabel),s+r.availableWidth+(t.scaleTickSizeRight+t.yAxisSpaceRight),d-(f+1)*g+nt/2)))}function vt(){for(var f,e,i,s,c,r=Number.MIN_VALUE,u=Number.MAX_VALUE,l=new Array(n.datasets.length),a=new Array(n.datasets.length),o=0;o<n.datasets.length;o++)for(f=0;f<n.datasets[o].data.length;f++)for(e=o,i=0,typeof n.datasets[0].data[f]=="undefined"||(i+=1*n.datasets[0].data[f],i>r&&(r=i),i<u&&(u=i));e>0;)typeof n.datasets[e].data[f]=="undefined"||(i+=1*n.datasets[e].data[f],i>r&&(r=i),i<u&&(u=i)),e--;return isNaN(t.graphMin)||(u=t.graphMin),isNaN(t.graphMax)||(r=t.graphMax),Math.abs(r-u)<1e-8&&(r=h([r*2,1]),u=0),s=Math.floor(et/(ft*.66)),c=Math.floor(et/ft*.5),{maxValue:r,minValue:u,maxSteps:s,minSteps:c}}var g,y,ft,et,it,rt,b,s,d,nt,r,ot,st,ht,ut;if(typeof i.ChartNewId=="undefined"&&(ot=new Date,st=ot.getTime(),i.ChartNewId="HorizontalStackedBar_"+st),dynamicFunction(n,t,i,"HorizontalStackedBar")){if(t.logarithmic=!1,ht=0,jsGraphAnnotate[i.ChartNewId]=[],a(i,n,t,"HorizontalStackedBar"),l(i,t),it=vt(),rt=t.scaleShowLabels?t.scaleLabel:"",t.scaleOverride){for(y={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,labels:[]},ut=0;ut<y.steps;ut++)rt&&y.labels.push(w(rt,{value:fmtChartJS(t,1*(t.scaleStartValue+t.scaleStepWidth*(ut+1)).toFixed(k(t.scaleStepWidth)),t.fmtYLabel)}));r=o(n,t,i,e,f,y.labels,!0,!0,!0,!0,!0)}else y=v(t,it.maxSteps,it.minSteps,it.maxValue,it.minValue,rt),r=o(n,t,i,e,f,y.labels,!0,!0,!0,!0,!0);r.availableHeight=r.availableHeight-t.scaleTickSizeBottom-t.scaleTickSizeTop;r.availableWidth=r.availableWidth-t.scaleTickSizeLeft-t.scaleTickSizeRight;g=Math.floor(r.availableHeight/n.labels.length);b=Math.floor(r.availableWidth/y.steps);b==0&&(b=r.availableWidth/(n.labels.length-1));r.clrwidth=r.clrwidth-(r.availableWidth-y.steps*b);r.availableWidth=y.steps*b;r.availableHeight=n.labels.length*g;s=r.leftNotUsableSize+t.scaleTickSizeLeft;d=r.topNotUsableSize+r.availableHeight+t.scaleTickSizeTop;nt=g-t.scaleGridLineWidth*2-t.barValueSpacing*2-(t.barDatasetSpacing*n.datasets.length-1)-t.barStrokeWidth/2-1;at();c(t,lt,ct,i,r.clrx,r.clry,r.clrwidth,r.clrheight,s+r.availableWidth/2,d-r.availableHeight/2,s,d,n)}},ct=function(n,t,r){function ct(f){for(var nt,o,s,v,y,rt,h,c,p,l=[],a=[],e=0;e<n.datasets.length;e++)for(o=0;o<n.datasets[e].data.length;o++)l[o]=0,a[o]=0;for(e=0;e<n.datasets.length;e++)for(o=0;o<n.datasets[e].data.length;o++)typeof n.datasets[e].data[o]=="undefined"||(a[o]+=1*n.datasets[e].data[o]);for(r.lineWidth=t.barStrokeWidth,e=0;e<n.datasets.length;e++)for(f>=1&&(lgtxt=typeof n.datasets[e].title=="string"?n.datasets[e].title.trim():""),o=0;o<n.datasets[e].data.length;o++)typeof n.datasets[e].fillColor=="string"?r.fillStyle=n.datasets[e].fillColor:typeof n.datasets[e].fillColor[0]=="string"&&(r.fillStyle=n.datasets[e].fillColor[u([n.datasets[e].fillColor.length,o])]),typeof n.datasets[e].strokeColor=="string"?r.strokeStyle=n.datasets[e].strokeColor:typeof n.datasets[e].strokeColor[0]=="string"&&(r.strokeStyle=n.datasets[e].strokeColor[u([n.datasets[e].strokeColor.length,o])]),typeof n.datasets[e].data[o]=="undefined"||(s=k+t.barValueSpacing+d*o+tt*e+t.barDatasetSpacing*e+t.barStrokeWidth*e,nt=f*i(t,1*n.datasets[e].data[o],b,g)+t.barStrokeWidth/2,lt(r,s,w,tt,nt,t.barShowStroke,t.barBorderRadius,it),l[o]+=1*n.datasets[e].data[o],f>=1&&(lgtxt2=typeof n.labels[o]=="string"?n.labels[o].trim():"",h=w-it,c=w-i(t,1*n.datasets[e].data[o],b,g)+t.barStrokeWidth/2,h<c&&(p=h,h=c,c=p),jsGraphAnnotate[r.ChartNewId][ht++]=["RECT",s,h,s+tt,c,lgtxt,lgtxt2,1*n.datasets[e].data[o],l[o],a[o],e,o]));if(f>=1&&t.inGraphDataShow){for(e=0;e<n.datasets.length;e++)for(o=0;o<n.datasets[e].data.length;o++)l[o]=0;for(e=0;e<n.datasets.length;e++)for(lgtxt=typeof n.datasets[e].title=="string"?n.datasets[e].title.trim():"",o=0;o<n.datasets[e].data.length;o++)typeof n.datasets[e].data[o]=="undefined"||(typeof n.labels[o]=="string"&&(lgtxt2=n.labels[o].trim()),r.save(),r.textAlign=t.inGraphDataAlign,r.textBaseline=t.inGraphDataVAlign,r.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily,r.fillStyle=t.inGraphDataFontColor,s=k+t.barValueSpacing+d*o+tt*e+t.barDatasetSpacing*e+t.barStrokeWidth*e,h=w-it,c=w-i(t,1*n.datasets[e].data[o],b,g)+t.barStrokeWidth/2,r.beginPath(),v=0,y=0,t.inGraphDataXPosition==1?y=s+t.inGraphDataPaddingX:t.inGraphDataXPosition==2?y=s+tt/2+t.inGraphDataPaddingX:t.inGraphDataXPosition==3&&(y=s+tt+t.inGraphDataPaddingX),t.inGraphDataYPosition==1?v=w-it-t.inGraphDataPaddingY:t.inGraphDataYPosition==2?v=w-(i(t,1*n.datasets[e].data[o],b,g)+t.barStrokeWidth/2)/2-t.inGraphDataPaddingY:t.inGraphDataYPosition==3&&(v=w-i(t,1*n.datasets[e].data[o],b,g)+t.barStrokeWidth/2-t.inGraphDataPaddingY),r.translate(y,v),rt=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,lgtxt,t.fmtV1),v2:fmtChartJS(t,lgtxt2,t.fmtV2),v3:fmtChartJS(t,1*n.datasets[e].data[o],t.fmtV3),v4:fmtChartJS(t,l[o],t.fmtV4),v5:fmtChartJS(t,a[o],t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*n.datasets[e].data[o]/a[o],t.fmtV6),t.roundPct),v7:fmtChartJS(t,s,t.fmtV7),v8:fmtChartJS(t,h,t.fmtV8),v9:fmtChartJS(t,s+tt,t.fmtV9),v10:fmtChartJS(t,c,t.fmtV10),v11:fmtChartJS(t,e,t.fmtV11),v12:fmtChartJS(t,o,t.fmtV12)}),r.rotate(t.inGraphDataRotate*(Math.PI/180)),r.fillText(rt,0,0),r.restore(),l[o]+=1*n.datasets[e].data[o])}}function lt(n,t,i,r,u,f,e,o){n.beginPath();n.moveTo(t+e,i-o);n.lineTo(t+r-e,i-o);n.quadraticCurveTo(t+r,i-o,t+r,i-o);n.lineTo(t+r,i-u+e);n.quadraticCurveTo(t+r,i-u,t+r-e,i-u);n.lineTo(t+e,i-u);n.quadraticCurveTo(t,i-u,t,i-u+e);n.lineTo(t,i-o);n.quadraticCurveTo(t,i-o,t+e,i-o);f&&n.stroke();n.closePath();n.fill()}function at(){var i,u;for(r.lineWidth=t.scaleLineWidth,r.strokeStyle=t.scaleLineColor,r.beginPath(),r.moveTo(k-t.scaleTickSizeLeft,w),r.lineTo(k+p.availableWidth+t.scaleTickSizeRight,w),r.stroke(),i=0;i<n.labels.length;i++)r.beginPath(),r.moveTo(k+i*d,w+t.scaleTickSizeBottom),r.lineWidth=t.scaleGridLineWidth,r.strokeStyle=t.scaleGridLineColor,t.scaleShowGridLines&&i>0&&i%t.scaleXGridLinesStep==0?r.lineTo(k+i*d,w-p.availableHeight-t.scaleTickSizeTop):r.lineTo(k+i*d,w),r.stroke();for(r.lineWidth=t.scaleLineWidth,r.strokeStyle=t.scaleLineColor,r.beginPath(),r.moveTo(k,w+t.scaleTickSizeBottom),r.lineTo(k,w-p.availableHeight-t.scaleTickSizeTop),r.stroke(),u=0;u<b.steps;u++)r.beginPath(),r.moveTo(k-t.scaleTickSizeLeft,w-(u+1)*g),r.lineWidth=t.scaleGridLineWidth,r.strokeStyle=t.scaleGridLineColor,t.scaleShowGridLines&&u%t.scaleYGridLinesStep==0?r.lineTo(k+p.availableWidth+t.scaleTickSizeRight,w-(u+1)*g):r.lineTo(k,w-(u+1)*g),r.stroke()}function vt(){var i,u;if(r.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,(t.xAxisTop||t.xAxisBottom)&&(r.textBaseline="top",p.rotateLabels>90?(r.save(),r.textAlign="left"):p.rotateLabels>0?(r.save(),r.textAlign="right"):r.textAlign="center",r.fillStyle=t.scaleFontColor,t.xAxisBottom))for(i=0;i<n.labels.length;i++)r.save(),p.rotateLabels>0?(r.translate(k+i*d+d/2-t.scaleFontSize/2,p.xLabelPos),r.rotate(-(p.rotateLabels*(Math.PI/180))),r.fillText(fmtChartJS(t,n.labels[i],t.fmtXLabel),0,0)):r.fillText(fmtChartJS(t,n.labels[i],t.fmtXLabel),k+i*d+d/2,p.xLabelPos),r.restore();for(r.textAlign="right",r.textBaseline="middle",u=t.showYAxisMin?-1:0;u<b.steps;u++)t.scaleShowLabels&&(t.yAxisLeft&&(r.textAlign="right",r.fillText(b.labels[u+1],k-(t.scaleTickSizeLeft+t.yAxisSpaceRight),w-(u+1)*g)),t.yAxisRight&&(r.textAlign="left",r.fillText(b.labels[u+1],k+p.availableWidth+(t.scaleTickSizeRight+t.yAxisSpaceRight),w-(u+1)*g)))}function yt(){for(var u,e,o,i=Number.MIN_VALUE,f=Number.MAX_VALUE,r=0;r<n.datasets.length;r++)for(u=0;u<n.datasets[r].data.length;u++)1*n.datasets[r].data[u]>i&&(i=1*n.datasets[r].data[u]),1*n.datasets[r].data[u]<f&&(f=1*n.datasets[r].data[u]);return Math.abs(i-f)<1e-8&&(i=h([i*2,1]),f=0),isNaN(t.graphMin)||(f=t.graphMin),isNaN(t.graphMax)||(i=t.graphMax),e=Math.floor(ft/(ut*.66)),o=Math.floor(ft/ut*.5),{maxValue:i,minValue:f,maxSteps:e,minSteps:o}}var g,b,ut,ft,nt,rt,d,k,w,tt,p,ht=0,et,ot,st,it;(typeof r.ChartNewId=="undefined"&&(et=new Date,ot=et.getTime(),r.ChartNewId="Bar_"+ot),dynamicFunction(n,t,r,"Bar"))&&(jsGraphAnnotate[r.ChartNewId]=[],a(r,n,t,"Bar"),l(r,t),nt=yt(),t.logarithmic!==!1&&nt.minValue<=0&&(t.logarithmic=!1),st=s(Math.pow(10,s(nt.maxValue)+1))-s(Math.pow(10,s(nt.minValue))),(t.logarithmic=="fuzzy"&&st<4||t.scaleOverride)&&(t.logarithmic=!1),rt=t.scaleShowLabels?t.scaleLabel:"",t.scaleOverride?(b={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,graphMax:t.scaleStartValue+t.scaleSteps*t.scaleStepWidth,labels:[]},y(t,rt,b.labels,b.steps,t.scaleStartValue,b.graphMax,t.scaleStepWidth),p=o(n,t,r,e,f,b.labels,!0,!1,!0,!0,!0)):(b=v(t,nt.maxSteps,nt.minSteps,nt.maxValue,nt.minValue,rt),p=o(n,t,r,e,f,b.labels,!0,!1,!0,!0,!0)),p.availableHeight=p.availableHeight-t.scaleTickSizeBottom-t.scaleTickSizeTop,p.availableWidth=p.availableWidth-t.scaleTickSizeLeft-t.scaleTickSizeRight,g=Math.floor(p.availableHeight/b.steps),d=Math.floor(p.availableWidth/n.labels.length),d==0&&(d=p.availableWidth/(n.labels.length-1)),p.clrwidth=p.clrwidth-(p.availableWidth-n.labels.length*d),p.availableWidth=n.labels.length*d,p.availableHeight=b.steps*g,k=p.leftNotUsableSize+t.scaleTickSizeLeft,w=p.topNotUsableSize+p.availableHeight+t.scaleTickSizeTop,tt=(d-t.scaleGridLineWidth*2-t.barValueSpacing*2-(t.barDatasetSpacing*n.datasets.length-1)-(t.barStrokeWidth/2*n.datasets.length-1))/n.datasets.length,it=0,nt.minValue<0&&(it=i(t,0,b,g)),vt(),c(t,at,ct,r,p.clrx,p.clry,p.clrwidth,p.clrheight,k+p.availableWidth/2,w-p.availableHeight/2,k,w,n))},lt=function(n,t,r){function st(f){for(var v,o,s,l,a,y,h=[],c=[],e=0;e<n.datasets.length;e++)for(o=0;o<n.datasets[e].data.length;o++)h[o]=0,c[o]=0;for(e=0;e<n.datasets.length;e++)for(o=0;o<n.datasets[e].data.length;o++)typeof n.datasets[e].data[o]=="undefined"||(c[o]+=1*n.datasets[e].data[o]);for(r.lineWidth=t.barStrokeWidth,e=0;e<n.datasets.length;e++)for(f>=1&&(lgtxt=typeof n.datasets[e].title=="string"?n.datasets[e].title.trim():""),o=0;o<n.datasets[e].data.length;o++)typeof n.datasets[e].fillColor=="string"?r.fillStyle=n.datasets[e].fillColor:typeof n.datasets[e].fillColor[0]=="string"&&(r.fillStyle=n.datasets[e].fillColor[u([n.datasets[e].fillColor.length,o])]),typeof n.datasets[e].strokeColor=="string"?r.strokeStyle=n.datasets[e].strokeColor:typeof n.datasets[e].strokeColor[0]=="string"&&(r.strokeStyle=n.datasets[e].strokeColor[u([n.datasets[e].strokeColor.length,o])]),typeof n.datasets[e].data[o]=="undefined"||(s=b+t.barValueSpacing-d*(o+1)+g*e+t.barDatasetSpacing*e+t.barStrokeWidth*e,v=f*i(t,1*n.datasets[e].data[o],w,k)+t.barStrokeWidth/2,ht(r,s,p,g,v,t.barShowStroke,t.barBorderRadius,tt),h[o]+=1*n.datasets[e].data[o],f>=1&&(lgtxt2=typeof n.labels[o]=="string"?n.labels[o].trim():"",t1=p+tt,t2=p+i(t,1*n.datasets[e].data[o],w,k)+t.barStrokeWidth/2,t1>t2&&(t3=t1,t1=t2,t2=t3),jsGraphAnnotate[r.ChartNewId][ot++]=["RECT",t1,s+g,t2,s,lgtxt,lgtxt2,1*n.datasets[e].data[o],h[o],c[o],e,o]));if(f>=1&&t.inGraphDataShow){for(e=0;e<n.datasets.length;e++)for(o=0;o<n.datasets[e].data.length;o++)h[o]=0;for(e=0;e<n.datasets.length;e++)for(lgtxt=typeof n.datasets[e].title=="string"?n.datasets[e].title.trim():"",o=0;o<n.datasets[e].data.length;o++)typeof n.datasets[e].data[o]=="undefined"||(typeof n.labels[o]=="string"&&(lgtxt2=n.labels[o].trim()),r.save(),r.textAlign=t.inGraphDataAlign,r.textBaseline=t.inGraphDataVAlign,r.font=t.inGraphDataFontStyle+" "+t.inGraphDataFontSize+"px "+t.inGraphDataFontFamily,r.fillStyle=t.inGraphDataFontColor,s=b+t.barValueSpacing-d*(o+1)+g*e+t.barDatasetSpacing*e+t.barStrokeWidth*e,t1=p+tt,t2=p+i(t,1*n.datasets[e].data[o],w,k)+t.barStrokeWidth/2,t1>t2&&(t3=t1,t1=t2,t2=t3),r.beginPath(),l=0,a=0,t.inGraphDataYPosition==1?l=s-t.inGraphDataPaddingY+g:t.inGraphDataYPosition==2?l=s+g/2-t.inGraphDataPaddingY:t.inGraphDataYPosition==3&&(l=s-t.inGraphDataPaddingY),t.inGraphDataXPosition==1?a=p+tt+t.inGraphDataPaddingX:t.inGraphDataXPosition==2?a=p+(i(t,1*n.datasets[e].data[o],w,k)+t.barStrokeWidth/2)/2+t.inGraphDataPaddingX:t.inGraphDataXPosition==3&&(a=p+i(t,1*n.datasets[e].data[o],w,k)+t.barStrokeWidth/2+t.inGraphDataPaddingX),r.translate(a,l),y=tmplbis(t.inGraphDataTmpl,{config:t,v1:fmtChartJS(t,lgtxt,t.fmtV1),v2:fmtChartJS(t,lgtxt2,t.fmtV2),v3:fmtChartJS(t,1*n.datasets[e].data[o],t.fmtV3),v4:fmtChartJS(t,h[o],t.fmtV4),v5:fmtChartJS(t,c[o],t.fmtV5),v6:roundToWithThousands(t,fmtChartJS(t,100*n.datasets[e].data[o]/c[o],t.fmtV6),t.roundPct),v7:fmtChartJS(t,t1,t.fmtV7),v8:fmtChartJS(t,s+g,t.fmtV8),v9:fmtChartJS(t,t2,t.fmtV9),v10:fmtChartJS(t,s,t.fmtV10),v11:fmtChartJS(t,e,t.fmtV11),v12:fmtChartJS(t,o,t.fmtV12)}),r.rotate(t.inGraphDataRotate*(Math.PI/180)),r.fillText(y,0,0),r.restore(),h[o]+=1*n.datasets[e].data[o])}}function ht(n,t,i,r,u,f,e,o){n.beginPath();n.moveTo(i+o,t+e);n.lineTo(i+o,t+r-e);n.quadraticCurveTo(i+o,t+r,i+o,t+r);n.lineTo(i+u-e,t+r);n.quadraticCurveTo(i+u,t+r,i+u,t+r-e);n.lineTo(i+u,t+e);n.quadraticCurveTo(i+u,t,i+u-e,t);n.lineTo(i+o,t);n.quadraticCurveTo(i+o,t,i+o,t+e);f&&n.stroke();n.closePath();n.fill()}function ct(){var i,u;for(r.lineWidth=t.scaleLineWidth,r.strokeStyle=t.scaleLineColor,r.beginPath(),r.moveTo(p-t.scaleTickSizeLeft,b),r.lineTo(p+s.availableWidth+t.scaleTickSizeRight,b),r.stroke(),i=t.showYAxisMin?-1:0;i<w.steps;i++)i>=0&&(r.beginPath(),r.moveTo(p+i*k,b+t.scaleTickSizeBottom),r.lineWidth=t.scaleGridLineWidth,r.strokeStyle=t.scaleGridLineColor,t.scaleShowGridLines&&i>0&&i%t.scaleXGridLinesStep==0?r.lineTo(p+i*k,b-s.availableHeight-t.scaleTickSizeTop):r.lineTo(p+i*k,b),r.stroke());for(r.lineWidth=t.scaleLineWidth,r.strokeStyle=t.scaleLineColor,r.beginPath(),r.moveTo(p,b+t.scaleTickSizeBottom),r.lineTo(p,b-s.availableHeight-t.scaleTickSizeTop),r.stroke(),u=0;u<n.labels.length;u++)r.beginPath(),r.moveTo(p-t.scaleTickSizeLeft,b-(u+1)*d),r.lineWidth=t.scaleGridLineWidth,r.strokeStyle=t.scaleGridLineColor,t.scaleShowGridLines&&u%t.scaleYGridLinesStep==0?r.lineTo(p+s.availableWidth+t.scaleTickSizeRight,b-(u+1)*d):r.lineTo(p,b-(u+1)*d),r.stroke()}function lt(){var i,u;if(r.font=t.scaleFontStyle+" "+t.scaleFontSize+"px "+t.scaleFontFamily,(t.xAxisTop||t.xAxisBottom)&&(r.textBaseline="top",s.rotateLabels>90?(r.save(),r.textAlign="left"):s.rotateLabels>0?(r.save(),r.textAlign="right"):r.textAlign="center",r.fillStyle=t.scaleFontColor,t.xAxisBottom))for(i=t.showYAxisMin?-1:0;i<w.steps;i++)r.save(),s.rotateLabels>0?(r.translate(p+(i+1)*k-t.scaleFontSize/2,s.xLabelPos),r.rotate(-(s.rotateLabels*(Math.PI/180))),r.fillText(w.labels[i+1],0,0)):r.fillText(w.labels[i+1],p+(i+1)*k,s.xLabelPos),r.restore();for(r.textAlign="right",r.textBaseline="middle",u=0;u<n.labels.length;u++)t.scaleShowLabels&&(t.yAxisLeft&&(r.textAlign="right",r.fillText(fmtChartJS(t,n.labels[u],t.fmtXLabel),p-(t.scaleTickSizeLeft+t.yAxisSpaceRight),b-u*d-d/2)),t.yAxisRight&&(r.textAlign="left",r.fillText(fmtChartJS(t,n.labels[u],t.fmtXLabel),p+s.availableWidth+(t.scaleTickSizeRight+t.yAxisSpaceRight),b-u*d-d/2)))}function at(){for(var u,e,o,i=Number.MIN_VALUE,f=Number.MAX_VALUE,r=0;r<n.datasets.length;r++)for(u=0;u<n.datasets[r].data.length;u++)1*n.datasets[r].data[u]>i&&(i=1*n.datasets[r].data[u]),1*n.datasets[r].data[u]<f&&(f=1*n.datasets[r].data[u]);return Math.abs(i-f)<1e-8&&(i=h([i*2,1]),f=0),isNaN(t.graphMin)||(f=t.graphMin),isNaN(t.graphMax)||(i=t.graphMax),e=Math.floor(ut/(rt*.66)),o=Math.floor(ut/rt*.5),{maxValue:i,minValue:f,maxSteps:e,minSteps:o}}var d,w,rt,ut,nt,it,k,p,b,g,s,ft,et,ot,tt;(typeof r.ChartNewId=="undefined"&&(ft=new Date,et=ft.getTime(),r.ChartNewId="HorizontalBar_"+et),dynamicFunction(n,t,r,"HorizontalBar"))&&(ot=0,jsGraphAnnotate[r.ChartNewId]=[],a(r,n,t,"HorizontalBar"),l(r,t),nt=at(),it=t.scaleShowLabels?t.scaleLabel:"",t.scaleOverride?(w={steps:t.scaleSteps,stepValue:t.scaleStepWidth,graphMin:t.scaleStartValue,graphMax:t.scaleStartValue+t.scaleSteps*t.scaleStepWidth,labels:[]},y(t,it,w.labels,w.steps,t.scaleStartValue,w.graphMax,t.scaleStepWidth),s=o(n,t,r,e,f,w.labels,!0,!0,!0,!0,!0)):(w=v(t,nt.maxSteps,nt.minSteps,nt.maxValue,nt.minValue,it),s=o(n,t,r,e,f,w.labels,!0,!0,!0,!0,!0)),s.availableHeight=s.availableHeight-t.scaleTickSizeBottom-t.scaleTickSizeTop,s.availableWidth=s.availableWidth-t.scaleTickSizeLeft-t.scaleTickSizeRight,d=Math.floor(s.availableHeight/n.labels.length),k=Math.floor(s.availableWidth/w.steps),k==0&&(k=s.availableWidth/(n.labels.length-1)),s.clrwidth=s.clrwidth-(s.availableWidth-w.steps*k),s.availableWidth=w.steps*k,s.availableHeight=n.labels.length*d,p=s.leftNotUsableSize+t.scaleTickSizeLeft,b=s.topNotUsableSize+s.availableHeight+t.scaleTickSizeTop,g=(d-t.scaleGridLineWidth*2-t.barValueSpacing*2-(t.barDatasetSpacing*n.datasets.length-1)-(t.barStrokeWidth/2*n.datasets.length-1))/n.datasets.length,tt=0,nt.minValue<0&&(tt=i(t,0,w,k)),lt(),c(t,ct,st,r,s.clrx,s.clry,s.clrwidth,s.clrheight,p+s.availableWidth/2,b-s.availableHeight/2,p,b,n))};d=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){window.setTimeout(n,1e3/60)}}();g={}}

;(function($,w,d) {var chartModel=fifa.model.extend({initialize:function(options) {var _this=this;fifa.model.prototype.initialize.apply(_this,[options]);},onValidateCollection:function() {var _this=this;},name:'chart',view_name:'chart:view'});w.models.chart=new chartModel({bind:['validateCollection']});}(window.jQuery||window.jm,window,document));;(function($,w,d) {var chartView=fifa.view.extend({$contentWrapContainer:null,$data:null,initialize:function(options) {var _this=this;fifa.view.prototype.initialize.apply(_this,[options]);_this.triggerMe('chartInit');},onChartInit:function(idPlayer1,idPlayer2) {var _this=this;$('.chart-item').each(function() {_this.triggerMe('dataInit',$(this),idPlayer1,idPlayer2);});},coreOnAjaxDataRequire:function() {this.onChartInit();},onDataInit:function($div,idPlayer1,idPlayer2) {var _this=this;var $item=$div.find('script[type="chart-data"]');var itemcontent=$item.html().trim().replace(/[\r\n]+(?=[^\r\n])/g,'');var classes=$div.attr('data-attrclass').split(',');var color=[];var bgColor=[];_.each(classes,function(o,i) {var col=$div.find('.' + o).css('color');color.push(col);var bgcol=$div.find('.' + o).css('background-color');bgColor.push(bgcol);});var itemobj=$.parseJSON(itemcontent);var ctx=document.getElementById($div.data('attr')).getContext("2d");switch ($div.data("charttype")) {case "Radar":{_this.drawRadar(itemobj,ctx,color,bgColor,idPlayer1,idPlayer2);break;}default:{_this.drawDoughnut(itemobj,ctx,color);}}},name:'chart:view',model_name:'chart',drawRadar:function(itemobj,ctx,color,bgColor,idPlayer1,idPlayer2) {var _this=this;if(itemobj.players) {if(idPlayer1&&idPlayer2) {var first=$.grep(itemobj.players,function(item) {return item.id===idPlayer1;})[0];var second=$.grep(itemobj.players,function(item) {return item.id===idPlayer2;})[0];$("#home-player-radar-legend").text(first.name);$("#away-player-radar-legend").text(second.name);var dataSets=_this.createDataSets([first,second],color,bgColor);$.each(itemobj.labels,function(i,item) { fifa.log(item);});new Chart(ctx).Radar({labels:$.map(itemobj.labels,function(item) { return item.replace(' ','\n');}),datasets:dataSets},{animation:true,angleLineWidth:3,scaleOverlay:true,scaleOverride:true,scaleStartValue:0,scaleStepWidth:10,scaleSteps:10,scaleFactors:itemobj.scaleFactors});}}},drawDoughnut:function(itemobj,ctx,color) {_.each(itemobj,function(o,i) {o.color=color[i];});new Chart(ctx).Doughnut(itemobj,{ percentageInnerCutout:80});},createDataSets:function(players,color,bgColor) {return $.map(players,(function(player,index) {if(index==0) {return {data:player.datavalues,fillColor:bgColor[index],strokeColor:color[index],pointColor:color[index],pointStrokeColor:"#fff"};}else {return {data:player.datavalues,fillColor:bgColor[index],strokeColor:color[index],pointColor:color[index],pointStrokeColor:"#fff"};}}));}});w.views.chart=new chartView({bind:['core:ajaxDataRequire','chartInit','dataInit']});}(window.jQuery||window.jm,window,document)); });
